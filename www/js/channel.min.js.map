{"version":3,"file":"channel.min.js","mappings":"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","sources":["webpack://nanotube/./node_modules/html-tag-builder/src/html-tag-builder.js","webpack://nanotube/webpack/bootstrap","webpack://nanotube/./.dev/js/model/enum/enum.js","webpack://nanotube/./.dev/js/service/crud.js","webpack://nanotube/./.dev/js/service/youtube-iframe-service.js","webpack://nanotube/./.dev/js/global.js","webpack://nanotube/./.dev/js/model/tag-builders/empty.js","webpack://nanotube/./.dev/js/model/tag-builders/loadmore.js","webpack://nanotube/./.dev/js/utils/element-factory.js","webpack://nanotube/./.dev/js/model/tag-builders/actions/actions.js","webpack://nanotube/./.dev/js/model/custom elements/modals/sm-modal.js","webpack://nanotube/./.dev/js/model/custom elements/modals/select-collection-modal.js","webpack://nanotube/./.dev/js/service/actions-service.js","webpack://nanotube/./.dev/js/utils/formatter.js","webpack://nanotube/./.dev/js/model/custom elements/yt-image-vid.js","webpack://nanotube/./.dev/js/model/tag-builders/components/entries/entry.js","webpack://nanotube/./.dev/js/model/tag-builders/components/entries/today.js","webpack://nanotube/./.dev/js/service/ui-service.js","webpack://nanotube/./.dev/js/model/tag-builders/components/entries/channel.js","webpack://nanotube/./.dev/js/channel.js"],"sourcesContent":["const SELF_CLOSING = [\r\n    'area', 'base', 'br', 'col', 'embed', 'hr', 'img', 'input', 'keygen', 'link', 'meta', 'param', 'source', 'track', 'wbr'\r\n];\r\nclass Objects {\r\n    static requireNonNull(obj, prop) {\r\n        if (!this.isDefined(obj))\r\n            throw new Error(`Null or undefined value not allowed for ${prop}`);\r\n        return obj;\r\n    }\r\n    static ofNullable(obj, defaultValue) {\r\n        if (!this.isDefined(obj))\r\n            obj = Objects.requireNonNull(defaultValue, 'defaultValue');\r\n        return obj;\r\n    }\r\n    static isDefined(obj) {\r\n        return obj !== undefined && obj !== null;\r\n    }\r\n    static isEmptyOrWhitespace(obj) {\r\n        if (!this.isDefined(obj))\r\n            return true;\r\n        if (typeof obj == 'string' && obj.constructor === String)\r\n            return obj.toString().trim().length === 0;\r\n        return false;\r\n    }\r\n}\r\nclass Attributes extends Map {\r\n    clone() {\r\n        const clone = new Attributes();\r\n        this.forEach((v, k) => clone.set(k, v));\r\n        return clone;\r\n    }\r\n}\r\nclass AbstractTagBuilder {\r\n    constructor(tagName, id, xmlns) {\r\n        this._node = null;\r\n        this._hNode = null;\r\n        this._isCached = false;\r\n        Objects.requireNonNull(tagName, 'tagName in TagBuilder');\r\n        tagName = tagName.trim().toLowerCase();\r\n        if (TagBuilderOptions.mode === 'headless') {\r\n            this.hNode = this.headlessBuilder(tagName, id, xmlns);\r\n            return;\r\n        }\r\n        if (!Objects.isEmptyOrWhitespace(xmlns)) {\r\n            const elem = document.createElementNS(xmlns, tagName);\r\n            this.node = elem;\r\n        }\r\n        else {\r\n            const elem = document.createElement(tagName);\r\n            elem.contentEditable = 'inherit';\r\n            elem.draggable = false;\r\n            this.node = elem;\r\n        }\r\n        if (!Objects.isEmptyOrWhitespace(id)) {\r\n            if (document.querySelector(`#${id}`) !== null)\r\n                throw new Error(`Tag with '${id}' id already exists in the document tree`);\r\n            this.node.id = id;\r\n        }\r\n    }\r\n    attr(key, value) {\r\n        if (this.isHeadlessMode)\r\n            this.hNode.attr(key, value);\r\n        else\r\n            this.node.setAttribute(key, `${value}`);\r\n        return this;\r\n    }\r\n    slot(value) {\r\n        if (this.isHeadlessMode)\r\n            this.hNode.attr('slot', value);\r\n        else\r\n            this.node.slot = value;\r\n        return this;\r\n    }\r\n    tabIndex(index) {\r\n        if (this.isHeadlessMode)\r\n            this.hNode.attr('tabindex', index);\r\n        else\r\n            this.node.tabIndex = index;\r\n        return this;\r\n    }\r\n    append(...child) {\r\n        child = child.filter(e => Objects.isDefined(e));\r\n        if (child.length === 0)\r\n            return this;\r\n        if (this.isHeadlessMode) {\r\n            this.hNode.append(...child.map(e => {\r\n                if (e instanceof AbstractTagBuilder)\r\n                    return e.buildHTML();\r\n                else\r\n                    return e;\r\n            }));\r\n            return this;\r\n        }\r\n        this.node.append(...child.map(e => {\r\n            if (e instanceof AbstractTagBuilder)\r\n                return e.build();\r\n            else\r\n                return e;\r\n        }));\r\n        return this;\r\n    }\r\n    prepend(...child) {\r\n        child = child.filter(e => Objects.isDefined(e));\r\n        if (child.length === 0)\r\n            return this;\r\n        if (this.isHeadlessMode) {\r\n            this.hNode.prepend(...child.map(e => {\r\n                if (e instanceof AbstractTagBuilder)\r\n                    return e.buildHTML();\r\n                else\r\n                    return e;\r\n            }));\r\n            return this;\r\n        }\r\n        this.node.prepend(...child.map(e => {\r\n            if (e instanceof AbstractTagBuilder)\r\n                return e.build();\r\n            else\r\n                return e;\r\n        }));\r\n        return this;\r\n    }\r\n    insertAdjacent(sibling, placement = 'after') {\r\n        if (this.isHeadlessMode)\r\n            this.hNode.insertAdjacent(sibling.buildHTML(), placement === 'before' ? 'before' : 'after');\r\n        else\r\n            this.node.insertAdjacentElement(placement === 'before' ? 'beforebegin' : 'afterend', sibling.build());\r\n        return this;\r\n    }\r\n    innerHTML(html) {\r\n        if (this.isHeadlessMode)\r\n            this.hNode.innerHTML(html);\r\n        else\r\n            this.node.innerHTML = html;\r\n        return this;\r\n    }\r\n    classes(...aClass) {\r\n        if (!Array.isArray(aClass))\r\n            throw new Error(`Invalid datatype for classes. Got '${typeof aClass}' expecting array of strings for node: [type = '${this.node.nodeType}', tagName = '${this.node.tagName}']`);\r\n        if (this.isHeadlessMode) {\r\n            this.hNode.classes(aClass);\r\n            return this;\r\n        }\r\n        aClass.forEach(e => {\r\n            if (typeof e !== 'string' || e.constructor !== String)\r\n                throw new Error(`Invalid datatype for class name. Got '${typeof e}' expecting string for node: [type = '${this.node.nodeType}', tagName = '${this.node.tagName}']`);\r\n            if (!this.node.classList.contains(e))\r\n                this.node.classList.add(e);\r\n        });\r\n        return this;\r\n    }\r\n    margin(...cssShorthand) {\r\n        if (cssShorthand.length > 4 || cssShorthand.length === 0)\r\n            return this;\r\n        this.style({ 'margin': cssShorthand.join(\" \") });\r\n        return this;\r\n    }\r\n    origin(top, right, bottom, left) {\r\n        if (!Objects.isEmptyOrWhitespace(top))\r\n            this.style({ top });\r\n        if (!Objects.isEmptyOrWhitespace(right))\r\n            this.style({ right });\r\n        if (!Objects.isEmptyOrWhitespace(bottom))\r\n            this.style({ bottom });\r\n        if (!Objects.isEmptyOrWhitespace(left))\r\n            this.style({ left });\r\n        return this;\r\n    }\r\n    padding(...cssShorthand) {\r\n        if (cssShorthand.length > 4 || cssShorthand.length === 0)\r\n            return this;\r\n        this.style({ 'padding': cssShorthand.join(\" \") });\r\n        return this;\r\n    }\r\n    position(value) {\r\n        this.style({ 'position': value });\r\n        return this;\r\n    }\r\n    style(obj) {\r\n        for (const [key, value] of Object.entries(obj)) {\r\n            if (key === 'undefined' || key === 'null' || !Objects.isDefined(value))\r\n                continue;\r\n            if (this.isHeadlessMode) {\r\n                this.hNode.style(key, value);\r\n                continue;\r\n            }\r\n            if (window.CSS.supports(key, value.toString()))\r\n                this.node.style[key] = value.toString();\r\n            else\r\n                console.debug(`Entry/value is not supported => ${key} : ${value}`);\r\n        }\r\n        return this;\r\n    }\r\n    on(event, listener, options) {\r\n        if (this.isHeadlessMode)\r\n            this.hNode.attr(`on${event}`.toLowerCase(), listener);\r\n        else\r\n            this.node.addEventListener(event, listener, options);\r\n        return this;\r\n    }\r\n    build() {\r\n        return this.node;\r\n    }\r\n    buildHTML() {\r\n        return this.isHeadlessMode ? this.hNode.build() : this.build().outerHTML;\r\n    }\r\n    get isSVGElement() {\r\n        return this.node instanceof SVGElement;\r\n    }\r\n    get isCached() {\r\n        return this._isCached;\r\n    }\r\n    set isCached(val) {\r\n        this._isCached = val;\r\n    }\r\n    get node() {\r\n        return this._node;\r\n    }\r\n    set node(node) {\r\n        this._node = node;\r\n    }\r\n    get hNode() {\r\n        return this._hNode;\r\n    }\r\n    set hNode(hNode) {\r\n        this._hNode = hNode;\r\n    }\r\n    get tagName() {\r\n        return this.isHeadlessMode ? this.hNode.tagName().toUpperCase() : this.node.tagName;\r\n    }\r\n    get tagId() {\r\n        return this.isHeadlessMode ? this.hNode.tagId() : this.node.id;\r\n    }\r\n    get isHeadlessMode() {\r\n        return TagBuilderOptions.mode === 'headless' || Objects.isDefined(this.hNode);\r\n    }\r\n    headlessBuilder(tagName, id, xmlns) {\r\n        class HNode {\r\n            constructor(tagName, id) {\r\n                this._attrs = new Attributes();\r\n                this._children = [];\r\n                this._siblings = new Attributes([\r\n                    ['before', []],\r\n                    ['after', []]\r\n                ]);\r\n                this._styles = new Attributes();\r\n                this._tagName = tagName;\r\n                if (!Objects.isEmptyOrWhitespace(id))\r\n                    this.attrs.set('id', id);\r\n                if (!Objects.isEmptyOrWhitespace(xmlns))\r\n                    this.attrs.set('xmlns', xmlns);\r\n                else\r\n                    this.attrs.set('draggable', false);\r\n                this.attrs.set('class', new Set());\r\n            }\r\n            get tagName() {\r\n                return this._tagName;\r\n            }\r\n            get attrs() {\r\n                return this._attrs;\r\n            }\r\n            get children() {\r\n                return this._children;\r\n            }\r\n            get siblings() {\r\n                return this._siblings;\r\n            }\r\n            get styles() {\r\n                return this._styles;\r\n            }\r\n            get classes() {\r\n                return this.attrs.get('class');\r\n            }\r\n            static from(node) {\r\n                const newnode = new HNode(node._tagName, node.attrs.get('id'));\r\n                newnode._attrs = node.attrs.clone();\r\n                newnode._children = [...node._children];\r\n                newnode._siblings = node._siblings.clone();\r\n                newnode._styles = node._styles.clone();\r\n                return newnode;\r\n            }\r\n        }\r\n        const createNode = function (tagName, id, node) {\r\n            let hnode = new HNode(tagName, id);\r\n            if (node !== undefined && node !== null)\r\n                hnode = HNode.from(node);\r\n            return {\r\n                attr: function (key, value) {\r\n                    hnode.attrs.set(key, `${value}`);\r\n                    return this;\r\n                },\r\n                append: function (...child) {\r\n                    hnode.children.push(...child);\r\n                    return this;\r\n                },\r\n                prepend: function (...child) {\r\n                    hnode.children.unshift(...child);\r\n                    return this;\r\n                },\r\n                insertAdjacent: function (sibling, placement) {\r\n                    hnode.siblings.get(placement).push(sibling);\r\n                    return this;\r\n                },\r\n                innerHTML: function (html) {\r\n                    hnode.children.splice(0, hnode.children.length, html);\r\n                    return this;\r\n                },\r\n                classes: function (classes) {\r\n                    classes.forEach(e => {\r\n                        if (typeof e !== 'string' || e.constructor !== String)\r\n                            throw new Error(`Invalid datatype for class name. Got '${typeof e}' expecting string for node: [tagName = '${tagName}']`);\r\n                        hnode.classes.add(e.trim());\r\n                    });\r\n                    return this;\r\n                },\r\n                style: function (property, value) {\r\n                    if (!Objects.isDefined(property) || !Objects.isDefined(value))\r\n                        return this;\r\n                    hnode.styles.set(property, `${value}`);\r\n                    return this;\r\n                },\r\n                tagName: () => {\r\n                    return hnode.tagName;\r\n                },\r\n                tagId: () => {\r\n                    var _a;\r\n                    return _a = hnode.attrs.get('id'), (_a !== null && _a !== void 0 ? _a : null);\r\n                },\r\n                clone: function () {\r\n                    return createNode(tagName, id, hnode);\r\n                },\r\n                build: () => {\r\n                    let attributes = ``;\r\n                    hnode.attrs.forEach((v, k) => {\r\n                        if (k.trim() === 'class') {\r\n                            if (v.size > 0)\r\n                                attributes += ` class=\"${[...v].join(\" \")}\"`;\r\n                            return;\r\n                        }\r\n                        v = Objects.isEmptyOrWhitespace(v) ? '' : v;\r\n                        attributes += ` ${k}=\"${v}\"`;\r\n                    });\r\n                    if (hnode.styles.size > 0) {\r\n                        attributes += ` style=\"`;\r\n                        let style = '';\r\n                        hnode.styles.forEach((v, k) => {\r\n                            v = Objects.isEmptyOrWhitespace(v) ? '' : v;\r\n                            style += ` ${k.trim()}: ${v.trim()};`;\r\n                        });\r\n                        attributes += `${style.trim()}\"`;\r\n                    }\r\n                    if (SELF_CLOSING.includes(tagName))\r\n                        return `<${tagName}${attributes}>`;\r\n                    return hnode.siblings.get('before').join() +\r\n                        `<${tagName}${attributes}>` +\r\n                        (hnode.children.length === 0 ? '' : hnode.children.join(\"\")) +\r\n                        `</${tagName}>` +\r\n                        hnode.siblings.get('after').join();\r\n                }\r\n            };\r\n        };\r\n        return createNode(tagName, id);\r\n    }\r\n}\r\nclass TagBuilder extends AbstractTagBuilder {\r\n    constructor(tagName, id) {\r\n        super(tagName, id);\r\n    }\r\n    accessKey(value) {\r\n        if (this.isHeadlessMode)\r\n            this.hNode.attr('accesskey', value);\r\n        else\r\n            this.node.accessKey = value.trim();\r\n        return this;\r\n    }\r\n    inputMode(value = 'text') {\r\n        value = Objects.ofNullable(value, 'text');\r\n        if (this.isHeadlessMode)\r\n            this.hNode.attr('inputmode', value);\r\n        else\r\n            this.node.inputMode = value;\r\n        return this;\r\n    }\r\n    contentEditable() {\r\n        if (this.isHeadlessMode)\r\n            this.hNode.attr('contenteditable', true);\r\n        else\r\n            this.node.contentEditable = 'true';\r\n        return this;\r\n    }\r\n    dir(value) {\r\n        if (this.isHeadlessMode)\r\n            this.hNode.attr('dir', value);\r\n        else\r\n            this.node.dir = value;\r\n        return this;\r\n    }\r\n    draggable() {\r\n        if (this.isHeadlessMode)\r\n            this.hNode.attr('draggable', true);\r\n        else\r\n            this.node.draggable = true;\r\n        return this;\r\n    }\r\n    hidden() {\r\n        if (this.isHeadlessMode)\r\n            this.hNode.attr('hidden', true);\r\n        else\r\n            this.node.hidden = true;\r\n        return this;\r\n    }\r\n    spellcheck() {\r\n        if (this.isHeadlessMode)\r\n            this.hNode.attr('spellcheck', true);\r\n        else\r\n            this.node.spellcheck = true;\r\n        return this;\r\n    }\r\n    title(title) {\r\n        if (this.isHeadlessMode)\r\n            this.hNode.attr('title', title);\r\n        else\r\n            this.node.title = title;\r\n        return this;\r\n    }\r\n    innerText(text) {\r\n        if (this.isHeadlessMode)\r\n            this.hNode.innerHTML(text);\r\n        else\r\n            this.node.innerText = text;\r\n        return this;\r\n    }\r\n    autocapitalize(value) {\r\n        if (this.isHeadlessMode)\r\n            this.hNode.attr('autocapitalize', value);\r\n        else\r\n            this.node.autocapitalize = value;\r\n        return this;\r\n    }\r\n    bounds(width, height) {\r\n        this.style({ width, height });\r\n        return this;\r\n    }\r\n    caret(color) {\r\n        this.style({ 'caret-color': color });\r\n        return this;\r\n    }\r\n    height(height) {\r\n        this.style({ height });\r\n        return this;\r\n    }\r\n    textcase(transform) {\r\n        if (['uppercase', 'lowercase', 'none', 'capitalize', 'inherit'].includes(transform)) {\r\n            this.style({ 'text-transform': transform });\r\n        }\r\n        return this;\r\n    }\r\n    visibility(value) {\r\n        this.style({ 'visibility': value });\r\n        return this;\r\n    }\r\n    width(width) {\r\n        this.style({ width });\r\n        return this;\r\n    }\r\n    screenReaderOnly() {\r\n        this.style({\r\n            border: 0,\r\n            clip: 'rect(0 0 0 0)',\r\n            height: '1px',\r\n            margin: '-1px',\r\n            overflow: 'hidden',\r\n            padding: 0,\r\n            position: 'absolute',\r\n            width: '1px'\r\n        });\r\n        return this;\r\n    }\r\n    clone() {\r\n        const builder = new TagBuilder(this.tagName, this.tagId);\r\n        builder.isCached = this.isCached;\r\n        if (this.isHeadlessMode)\r\n            builder.hNode = this.hNode.clone();\r\n        else\r\n            builder.node = this.node.cloneNode(true);\r\n        return builder;\r\n    }\r\n    static parse(html) {\r\n        if (TagBuilderOptions.mode === 'headless')\r\n            throw new Error('Parse is not supported in headless mode');\r\n        const template = document.createElement('template');\r\n        template.innerHTML = html;\r\n        const nodes = template.content.childNodes;\r\n        if (nodes.length === 0)\r\n            return null;\r\n        const result = [...nodes].filter(e => e.nodeType === 1).map((e) => {\r\n            const builder = new TagBuilder(e.tagName, e.id);\r\n            Object.entries(e.attributes).forEach(entry => {\r\n                builder.attr(entry[1].name, entry[1].value);\r\n            });\r\n            builder.node.append(...e.children);\r\n            return builder;\r\n        });\r\n        return result.length === 0 ? null : result;\r\n    }\r\n}\r\nclass TagBuilderOptions {\r\n    static get mode() {\r\n        return this._mode;\r\n    }\r\n    static set mode(v) {\r\n        this._mode = v;\r\n    }\r\n    static get scriptAsync() {\r\n        return this._defaultScriptAsync;\r\n    }\r\n    static set scriptAsync(v) {\r\n        this._defaultScriptAsync = v;\r\n    }\r\n    static get useOptionContentForEmptyOptionValue() {\r\n        return this._useOptionContentForEmptyOptionValue;\r\n    }\r\n    static set useOptionContentForEmptyOptionValue(v) {\r\n        this._useOptionContentForEmptyOptionValue = v;\r\n    }\r\n    static get defaultInputType() {\r\n        return this._defaultInputType;\r\n    }\r\n    static set defaultInputType(v) {\r\n        this._defaultInputType = v;\r\n    }\r\n    static reset() {\r\n        this._defaultInputType = 'text';\r\n        this._useOptionContentForEmptyOptionValue = true;\r\n        this._defaultScriptAsync = true;\r\n    }\r\n}\r\nTagBuilderOptions._defaultInputType = 'text';\r\nTagBuilderOptions._useOptionContentForEmptyOptionValue = true;\r\nTagBuilderOptions._defaultScriptAsync = true;\r\nclass BlockquoteBuilder extends TagBuilder {\r\n    constructor(cite, id) {\r\n        super('blockquote', id);\r\n        if (this.isHeadlessMode)\r\n            this.attr('cite', cite);\r\n        else\r\n            this.node.cite = cite;\r\n    }\r\n}\r\nclass FieldsetBuilder extends TagBuilder {\r\n    constructor(legend, id) {\r\n        super('fieldset', id);\r\n        if (!Objects.isEmptyOrWhitespace(legend))\r\n            this.append(new TagBuilder('legend').innerText(legend));\r\n    }\r\n}\r\nclass FigureBuilder extends TagBuilder {\r\n    constructor(caption, captionPlacement = 'bottom', id) {\r\n        super('figure', id);\r\n        this.caption = new TagBuilder(\"figcaption\");\r\n        this.captionPlacement = 'bottom';\r\n        if (!Objects.isEmptyOrWhitespace(caption))\r\n            this.caption.innerHTML(caption);\r\n        this.captionPlacement = captionPlacement;\r\n    }\r\n    clone() {\r\n        const builder = new FigureBuilder();\r\n        builder.caption = this.caption;\r\n        builder.captionPlacement = this.captionPlacement;\r\n        builder.isCached = this.isCached;\r\n        if (this.isHeadlessMode)\r\n            builder.hNode = this.hNode.clone();\r\n        else\r\n            builder.node = this.node.cloneNode(true);\r\n        return builder;\r\n    }\r\n    build() {\r\n        if (this.isCached)\r\n            return this.node;\r\n        this.isCached = true;\r\n        if (this.captionPlacement === 'bottom')\r\n            this.append(this.caption);\r\n        else\r\n            this.prepend(this.caption);\r\n        return this.node;\r\n    }\r\n    buildHTML() {\r\n        if (this.isCached)\r\n            return this.isHeadlessMode ? this.hNode.build() : this.node.outerHTML;\r\n        this.isCached = true;\r\n        if (this.captionPlacement === 'bottom')\r\n            this.append(this.caption);\r\n        else\r\n            this.prepend(this.caption);\r\n        return this.hNode.build();\r\n    }\r\n}\r\nclass AnchorBuilder extends TagBuilder {\r\n    constructor(href, target = '_self', id) {\r\n        super('a', id);\r\n        href = Objects.requireNonNull(href, 'href');\r\n        target = Objects.requireNonNull(target, 'target');\r\n        if (this.isHeadlessMode) {\r\n            this.attr('href', href);\r\n            this.attr('target', target);\r\n        }\r\n        else {\r\n            this.node.href = href;\r\n            this.node.target = target;\r\n        }\r\n    }\r\n    hreflang(lang) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('hreflang', lang);\r\n        else\r\n            this.node.hreflang = lang;\r\n        return this;\r\n    }\r\n    mimeType(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('type', value);\r\n        else\r\n            this.node.type = value;\r\n        return this;\r\n    }\r\n    ping(urls) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('ping', urls.join(\" \"));\r\n        else\r\n            this.node.ping = urls.join(\" \");\r\n        return this;\r\n    }\r\n    rel(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('rel', value);\r\n        else\r\n            this.node.rel = value;\r\n        return this;\r\n    }\r\n}\r\nclass DownloadLinkBuilder extends AnchorBuilder {\r\n    constructor(href, filename, id) {\r\n        super(href, '_self', id);\r\n        filename = Objects.requireNonNull(filename, 'filename in DownloadLinkBuilder');\r\n        if (this.isHeadlessMode)\r\n            this.attr('download', filename);\r\n        else\r\n            this.node.download = filename;\r\n    }\r\n}\r\nclass AreaBuilder extends TagBuilder {\r\n    constructor(coords, shape = 'default', id) {\r\n        super('area', id);\r\n        coords = Objects.requireNonNull(coords, 'coords');\r\n        if (this.isHeadlessMode) {\r\n            this.attr('coords', coords);\r\n            if (Objects.isDefined(shape))\r\n                this.attr('shape', shape);\r\n        }\r\n        else {\r\n            this.node.coords = coords;\r\n            if (Objects.isDefined(shape))\r\n                this.node.shape = shape;\r\n        }\r\n    }\r\n    href(url, alt) {\r\n        url = Objects.requireNonNull(url, 'href');\r\n        alt = Objects.requireNonNull(alt, 'alt');\r\n        if (this.isHeadlessMode) {\r\n            this.attr('href', url);\r\n            this.attr('alt', alt);\r\n        }\r\n        else {\r\n            this.node.href = url;\r\n            this.node.alt = alt;\r\n        }\r\n        return this;\r\n    }\r\n    hreflang(lang) {\r\n        this.attr('hreflang', lang);\r\n        return this;\r\n    }\r\n    ping(urls) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('ping', urls.join(\" \"));\r\n        else\r\n            this.node.ping = urls.join(\" \");\r\n        return this;\r\n    }\r\n    rel(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('rel', value);\r\n        else\r\n            this.node.rel = value;\r\n        return this;\r\n    }\r\n    target(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('target', value);\r\n        else\r\n            this.node.target = value;\r\n        return this;\r\n    }\r\n}\r\nclass DownloadAreaBuilder extends AreaBuilder {\r\n    constructor(filename, coords, shape = 'default', id) {\r\n        super(coords, shape, id);\r\n        filename = Objects.requireNonNull(filename, 'filename in DownloadAreaBuilder');\r\n        if (this.isHeadlessMode)\r\n            this.attr('download', filename);\r\n        else\r\n            this.node.download = filename;\r\n    }\r\n}\r\nclass DataBuilder extends TagBuilder {\r\n    constructor(value, id) {\r\n        super('data', id);\r\n        if (this.isHeadlessMode)\r\n            this.attr('value', value);\r\n        else\r\n            this.node.value = value;\r\n    }\r\n}\r\nclass SpanBuilder extends TagBuilder {\r\n    constructor(style, id) {\r\n        super('span', id);\r\n        if (Objects.isDefined(style)) {\r\n            style.sort();\r\n            style.forEach(style => {\r\n                if (style === 'bold')\r\n                    this.bold();\r\n                else if (style === 'bolder')\r\n                    this.bolder();\r\n                else if (style === 'lighter')\r\n                    this.lighter();\r\n                else if (style === 'italic')\r\n                    this.italic();\r\n                else if (style === 'underline')\r\n                    this.underline();\r\n                else if (style === 'strikethrough')\r\n                    this.strikethrough();\r\n            });\r\n        }\r\n    }\r\n    bold() {\r\n        this.style({ 'font-weight': 'bold' });\r\n        return this;\r\n    }\r\n    bolder() {\r\n        this.style({ 'font-weight': 'bolder' });\r\n        return this;\r\n    }\r\n    italic() {\r\n        this.style({ 'font-style': 'italic' });\r\n        return this;\r\n    }\r\n    lighter() {\r\n        this.style({ 'font-weight': 'lighter' });\r\n        return this;\r\n    }\r\n    underline() {\r\n        this.style({ 'text-decoration': 'underline' });\r\n        return this;\r\n    }\r\n    strikethrough() {\r\n        this.style({ 'text-decoration': 'strikethrough' });\r\n        return this;\r\n    }\r\n    color(value) {\r\n        this.style({ 'color': value });\r\n        return this;\r\n    }\r\n}\r\nclass InputBuilder extends TagBuilder {\r\n    constructor(type, id) {\r\n        super('input', id);\r\n        if (this.isHeadlessMode) {\r\n            this.attr('spellcheck', false);\r\n            this.attr('checked', false);\r\n            this.attr('required', false);\r\n            this.attr('type', (type !== null && type !== void 0 ? type : TagBuilderOptions.defaultInputType));\r\n        }\r\n        else {\r\n            this.node.spellcheck = false;\r\n            this.node.checked = false;\r\n            this.node.required = false;\r\n            this.node.type = (type !== null && type !== void 0 ? type : TagBuilderOptions.defaultInputType);\r\n        }\r\n    }\r\n    autocomplete(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('autocomplete', value);\r\n        else\r\n            this.node.autocomplete = value;\r\n        return this;\r\n    }\r\n    autofocus() {\r\n        if (this.isHeadlessMode)\r\n            this.attr('autofocus', true);\r\n        else\r\n            this.node.autofocus = true;\r\n        return this;\r\n    }\r\n    datalist(id) {\r\n        this.attr('list', Objects.requireNonNull(id, 'id'));\r\n        return this;\r\n    }\r\n    disabled() {\r\n        if (this.isHeadlessMode)\r\n            this.attr('disabled', true);\r\n        else\r\n            this.node.disabled = true;\r\n        return this;\r\n    }\r\n    name(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('name', value);\r\n        else\r\n            this.node.name = value;\r\n        return this;\r\n    }\r\n    onInvalid(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('oninvalid', `this.setCustomValidity('${value}');`);\r\n        else\r\n            this.node.setCustomValidity(value);\r\n        return this;\r\n    }\r\n    placeholder(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('placeholder', value);\r\n        else\r\n            this.node.placeholder = value;\r\n        return this;\r\n    }\r\n    readOnly() {\r\n        if (this.isHeadlessMode)\r\n            this.attr('readonly', true);\r\n        else\r\n            this.node.readOnly = true;\r\n        return this;\r\n    }\r\n    required() {\r\n        if (this.isHeadlessMode)\r\n            this.attr('required', true);\r\n        else\r\n            this.node.required = true;\r\n        return this;\r\n    }\r\n    value(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('value', value);\r\n        else\r\n            this.node.value = value;\r\n        return this;\r\n    }\r\n}\r\nclass NumberInputBuilder extends InputBuilder {\r\n    constructor(value, id) {\r\n        super('number', id);\r\n        if (Objects.isDefined(value))\r\n            if (this.isHeadlessMode)\r\n                this.attr('value', value);\r\n            else\r\n                this.node.value = value;\r\n    }\r\n    min(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('min', value);\r\n        else\r\n            this.node.min = value;\r\n        return this;\r\n    }\r\n    max(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('max', value);\r\n        else\r\n            this.node.max = value;\r\n        return this;\r\n    }\r\n    step(interval) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('step', interval);\r\n        else\r\n            this.node.step = interval;\r\n        return this;\r\n    }\r\n}\r\nclass RangeInputBuilder extends NumberInputBuilder {\r\n    constructor(value, id) {\r\n        super(value, id);\r\n        if (this.isHeadlessMode)\r\n            this.attr('type', 'range');\r\n        else\r\n            this.node.type = 'range';\r\n    }\r\n}\r\nclass CheckboxInputBuilder extends InputBuilder {\r\n    constructor(isIndeterminate = false, id) {\r\n        super(\"checkbox\", id);\r\n        if (!this.isHeadlessMode)\r\n            this.node.indeterminate = isIndeterminate;\r\n    }\r\n    checked() {\r\n        if (this.isHeadlessMode)\r\n            this.attr('checked', true);\r\n        else\r\n            this.node.checked = true;\r\n        return this;\r\n    }\r\n}\r\nclass RadioInputBuilder extends InputBuilder {\r\n    constructor(checked, id) {\r\n        super('radio', id);\r\n        checked = Objects.ofNullable(checked, false);\r\n        if (this.isHeadlessMode)\r\n            this.attr('checked', checked);\r\n        else\r\n            this.node.checked = checked;\r\n    }\r\n}\r\nclass DateInputBuilder extends NumberInputBuilder {\r\n    constructor(value, id) {\r\n        super(value, id);\r\n        if (this.isHeadlessMode)\r\n            this.attr('type', 'date');\r\n        else\r\n            this.node.type = 'date';\r\n    }\r\n}\r\nclass DateTimeLocalInputBuilder extends DateInputBuilder {\r\n    constructor(value, id) {\r\n        super(value, id);\r\n        if (this.isHeadlessMode)\r\n            this.attr('type', 'datetime-local');\r\n        else\r\n            this.node.type = 'datetime-local';\r\n    }\r\n}\r\nclass MonthInputBuilder extends DateInputBuilder {\r\n    constructor(value, id) {\r\n        super(value, id);\r\n        if (this.isHeadlessMode)\r\n            this.attr('type', 'month');\r\n        else\r\n            this.node.type = 'month';\r\n    }\r\n}\r\nclass TimeInputBuilder extends DateInputBuilder {\r\n    constructor(value, id) {\r\n        super(value, id);\r\n        if (this.isHeadlessMode)\r\n            this.attr('type', 'time');\r\n        else\r\n            this.node.type = 'time';\r\n    }\r\n}\r\nclass WeekInputBuilder extends DateInputBuilder {\r\n    constructor(value, id) {\r\n        super(value, id);\r\n        if (this.isHeadlessMode)\r\n            this.attr('type', 'week');\r\n        else\r\n            this.node.type = 'week';\r\n    }\r\n}\r\nclass FileInputBuilder extends InputBuilder {\r\n    constructor(accept, id) {\r\n        super('file', id);\r\n        if (this.isHeadlessMode) {\r\n            this.attr('multiple', false);\r\n            this.attr('accept', Objects.ofNullable(accept, ''));\r\n        }\r\n        else {\r\n            this.node.multiple = false;\r\n            if (Objects.isDefined(accept))\r\n                this.node.accept = accept;\r\n        }\r\n    }\r\n    capture(value) {\r\n        this.attr('capture', value);\r\n        return this;\r\n    }\r\n    multiple() {\r\n        if (this.isHeadlessMode)\r\n            this.attr('multiple', true);\r\n        else\r\n            this.node.multiple = true;\r\n        return this;\r\n    }\r\n}\r\nclass ImageInputBuilder extends InputBuilder {\r\n    constructor(src, alt, id) {\r\n        super('image', id);\r\n        src = Objects.requireNonNull(src, 'src');\r\n        alt = Objects.requireNonNull(alt, 'alt');\r\n        if (this.isHeadlessMode) {\r\n            this.attr('src', src);\r\n            this.attr('alt', alt);\r\n        }\r\n        else {\r\n            this.node.src = src;\r\n            this.node.alt = alt;\r\n        }\r\n    }\r\n    formAction(url) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('formaction', url);\r\n        else\r\n            this.node.formAction = url;\r\n        return this;\r\n    }\r\n    formEnctype(enctype) {\r\n        enctype = Objects.ofNullable(enctype, 'application/x-www-form-urlencoded');\r\n        if (this.isHeadlessMode)\r\n            this.attr('formenctype', enctype);\r\n        else\r\n            this.node.formEnctype = enctype;\r\n        return this;\r\n    }\r\n    formMethod(method) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('formmethod', method);\r\n        else\r\n            this.node.formMethod = method;\r\n        return this;\r\n    }\r\n}\r\nclass TextInputBuilder extends InputBuilder {\r\n    constructor(id) {\r\n        super('text', id);\r\n    }\r\n    maxLength(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('maxlength', value);\r\n        else\r\n            this.node.maxLength = value;\r\n        return this;\r\n    }\r\n    minLength(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('minlength', value);\r\n        else\r\n            this.node.minLength = value;\r\n        return this;\r\n    }\r\n    pattern(value) {\r\n        const pattern = value instanceof RegExp ? value.source : new RegExp(value).source;\r\n        if (this.isHeadlessMode)\r\n            this.attr('pattern', pattern);\r\n        else\r\n            this.node.pattern = pattern;\r\n        return this;\r\n    }\r\n    size(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('size', value);\r\n        else\r\n            this.node.size = value;\r\n        return this;\r\n    }\r\n}\r\nclass EmailInputBuilder extends TextInputBuilder {\r\n    constructor(id) {\r\n        super(id);\r\n        if (this.isHeadlessMode) {\r\n            this.attr('type', 'email');\r\n            this.attr('multiple', false);\r\n        }\r\n        else {\r\n            this.node.type = 'email';\r\n            this.node.multiple = false;\r\n        }\r\n    }\r\n    multiple() {\r\n        if (this.isHeadlessMode)\r\n            this.attr('multiple', true);\r\n        else\r\n            this.node.multiple = true;\r\n        return this;\r\n    }\r\n}\r\nclass PasswordInputBuilder extends TextInputBuilder {\r\n    constructor(id) {\r\n        super(id);\r\n        if (this.isHeadlessMode)\r\n            this.attr('type', 'password');\r\n        else\r\n            this.node.type = 'password';\r\n    }\r\n}\r\nclass SearchInputBuilder extends TextInputBuilder {\r\n    constructor(id) {\r\n        super(id);\r\n        if (this.isHeadlessMode)\r\n            this.attr('type', 'search');\r\n        else\r\n            this.node.type = 'search';\r\n    }\r\n}\r\nclass TelInputBuilder extends TextInputBuilder {\r\n    constructor(id) {\r\n        super(id);\r\n        if (this.isHeadlessMode)\r\n            this.attr('type', 'tel');\r\n        else\r\n            this.node.type = 'tel';\r\n    }\r\n}\r\nclass UrlInputBuilder extends TextInputBuilder {\r\n    constructor(id) {\r\n        super(id);\r\n        if (this.isHeadlessMode)\r\n            this.attr('type', 'url');\r\n        else\r\n            this.node.type = 'url';\r\n    }\r\n}\r\nclass TextAreaBuilder extends TagBuilder {\r\n    constructor(rows, cols, id) {\r\n        super('textarea', id);\r\n        if (this.isHeadlessMode) {\r\n            this.attr('spellcheck', false);\r\n            this.attr('required', false);\r\n            if (Objects.isDefined(rows))\r\n                this.attr('rows', rows);\r\n            if (Objects.isDefined(cols))\r\n                this.attr('cols', cols);\r\n        }\r\n        else {\r\n            this.node.spellcheck = false;\r\n            this.node.required = false;\r\n            if (Objects.isDefined(rows))\r\n                this.node.rows = rows;\r\n            if (Objects.isDefined(cols))\r\n                this.node.cols = cols;\r\n        }\r\n    }\r\n    autocomplete(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('autocomplete', value);\r\n        else\r\n            this.node.autocomplete = value;\r\n        return this;\r\n    }\r\n    autofocus() {\r\n        if (this.isHeadlessMode)\r\n            this.attr('autofocus', true);\r\n        else\r\n            this.node.autofocus = true;\r\n        return this;\r\n    }\r\n    disabled() {\r\n        if (this.isHeadlessMode)\r\n            this.attr('disabled', true);\r\n        else\r\n            this.node.disabled = true;\r\n        return this;\r\n    }\r\n    maxLength(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('maxlength', value);\r\n        else\r\n            this.node.maxLength = value;\r\n        return this;\r\n    }\r\n    minLength(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('minlength', value);\r\n        else\r\n            this.node.minLength = value;\r\n        return this;\r\n    }\r\n    name(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('name', value);\r\n        else\r\n            this.node.name = value;\r\n        return this;\r\n    }\r\n    onInvalid(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('oninvalid', `this.setCustomValidity('${value}');`);\r\n        else\r\n            this.node.setCustomValidity(value);\r\n        return this;\r\n    }\r\n    placeholder(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('placeholder', value);\r\n        else\r\n            this.node.placeholder = value;\r\n        return this;\r\n    }\r\n    readOnly() {\r\n        if (this.isHeadlessMode)\r\n            this.attr('readonly', true);\r\n        else\r\n            this.node.readOnly = true;\r\n        return this;\r\n    }\r\n    required() {\r\n        if (this.isHeadlessMode)\r\n            this.attr('required', true);\r\n        else\r\n            this.node.required = true;\r\n        return this;\r\n    }\r\n    value(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('value', value);\r\n        else\r\n            this.node.value = value;\r\n        return this;\r\n    }\r\n    wrap(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('wrap', value);\r\n        else\r\n            this.node.wrap = value;\r\n        return this;\r\n    }\r\n}\r\nclass DataListBuilder extends TagBuilder {\r\n    constructor(id) {\r\n        super('datalist', id);\r\n        Objects.requireNonNull(id, 'id in DatalistBuilder');\r\n    }\r\n    addOption(content, value, classes = []) {\r\n        Objects.requireNonNull(content, 'content in DatalistBuilder');\r\n        this.addOptions(new OptionBuilder(content, value).classes(...classes));\r\n        return this;\r\n    }\r\n    addOptions(...option) {\r\n        option.forEach(e => {\r\n            if (e instanceof OptionBuilder)\r\n                this.append(e);\r\n            else\r\n                this.append(new OptionBuilder(e));\r\n        });\r\n        return this;\r\n    }\r\n}\r\nclass DLBuilder extends TagBuilder {\r\n    constructor(wrapDtDdGroupsInDiv = false, groupsDivClasses = [], id) {\r\n        super('dl', id);\r\n        this.div = null;\r\n        if (wrapDtDdGroupsInDiv === true)\r\n            this.div = new TagBuilder('div').classes(...groupsDivClasses);\r\n    }\r\n    addTerm(term, ...dd) {\r\n        Objects.requireNonNull(term, 'term in DLBuilder');\r\n        const dt = new TagBuilder('dt').innerHTML(term);\r\n        const dds = dd.map(e => {\r\n            if (e instanceof TagBuilder) {\r\n                if (e.tagName === 'DD')\r\n                    return e;\r\n                else\r\n                    return new TagBuilder('dd').append(e);\r\n            }\r\n            else\r\n                return new TagBuilder('dd').innerHTML(e);\r\n        });\r\n        if (this.div !== null)\r\n            this.append(this.div.clone().append(dt, ...dds));\r\n        else\r\n            this.append(dt, ...dds);\r\n        return this;\r\n    }\r\n    clone() {\r\n        const builder = new DLBuilder(false);\r\n        builder.div = this.div;\r\n        if (this.isHeadlessMode)\r\n            builder.hNode = this.hNode.clone();\r\n        else\r\n            builder.node = this.node.cloneNode(true);\r\n        return builder;\r\n    }\r\n}\r\nclass DetailsBuilder extends TagBuilder {\r\n    constructor(summary, open = false, id) {\r\n        super('details', id);\r\n        if (this.isHeadlessMode)\r\n            this.attr('open', open);\r\n        else\r\n            this.node.open = open;\r\n        if (Objects.isDefined(summary))\r\n            this.prepend(new TagBuilder('summary').innerHTML(summary));\r\n    }\r\n}\r\nclass OptionBuilder extends TagBuilder {\r\n    constructor(content, value, id) {\r\n        super('option', id);\r\n        this.innerHTML(content);\r\n        if (!Objects.isDefined(value) && TagBuilderOptions.useOptionContentForEmptyOptionValue)\r\n            this.attr('value', content.trim().toLowerCase().replace(/\\s+/g, '-'));\r\n        else\r\n            this.attr('value', Objects.ofNullable(value, ''));\r\n    }\r\n}\r\nclass SelectBuilder extends TagBuilder {\r\n    constructor(instructionMessage, id) {\r\n        super('select', id);\r\n        if (this.isHeadlessMode) {\r\n            this.attr('spellcheck', false);\r\n            this.attr('required', false);\r\n        }\r\n        else {\r\n            this.node.spellcheck = false;\r\n            this.node.required = false;\r\n        }\r\n        if (Objects.isDefined(instructionMessage))\r\n            this.append(new OptionBuilder(instructionMessage, \"\").attr('disabled', ''));\r\n    }\r\n    addOptionGroup(label, ...option) {\r\n        Objects.requireNonNull(label, 'label in SelectBuilder');\r\n        this.append(new TagBuilder('optgroup').attr('label', label).append(...option));\r\n        return this;\r\n    }\r\n    addOption(content, value, classes) {\r\n        this.addOptions([new OptionBuilder(content, value).classes(...classes)]);\r\n        return this;\r\n    }\r\n    addOptions(options) {\r\n        options.forEach(e => {\r\n            if (e instanceof OptionBuilder)\r\n                this.append(e);\r\n            else\r\n                this.append(new OptionBuilder(e));\r\n        });\r\n        return this;\r\n    }\r\n    autocomplete(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('autocomplete', value);\r\n        else\r\n            this.node.autocomplete = value;\r\n        return this;\r\n    }\r\n    autofocus() {\r\n        if (this.isHeadlessMode)\r\n            this.attr('autofocus', true);\r\n        else\r\n            this.node.autofocus = true;\r\n        return this;\r\n    }\r\n    disabled() {\r\n        if (this.isHeadlessMode)\r\n            this.attr('disabled', true);\r\n        else\r\n            this.node.disabled = true;\r\n        return this;\r\n    }\r\n    multiple() {\r\n        if (this.isHeadlessMode)\r\n            this.attr('multiple', true);\r\n        else\r\n            this.node.multiple = true;\r\n        return this;\r\n    }\r\n    name(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('name', value);\r\n        else\r\n            this.node.name = value;\r\n        return this;\r\n    }\r\n    onInvalid(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('oninvalid', `this.setCustomValidity('${value}');`);\r\n        else\r\n            this.node.setCustomValidity(value);\r\n        return this;\r\n    }\r\n    required() {\r\n        if (this.isHeadlessMode)\r\n            this.attr('required', true);\r\n        else\r\n            this.node.required = true;\r\n        return this;\r\n    }\r\n    size(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('size', value);\r\n        else\r\n            this.node.size = value;\r\n        return this;\r\n    }\r\n}\r\nclass ListItemBuilder extends TagBuilder {\r\n    constructor(html, id) {\r\n        super('li', id);\r\n        this.innerHTML(Objects.ofNullable(html, ''));\r\n    }\r\n}\r\nclass ListBuilder extends TagBuilder {\r\n    constructor(isOrdered = false, style = 'none', id) {\r\n        super(isOrdered ? 'ol' : 'ul', id);\r\n        if (Objects.isDefined(style) && style.toLowerCase() !== 'none')\r\n            this.style({ 'list-style': style });\r\n    }\r\n    addItem(item) {\r\n        if (item instanceof ListItemBuilder)\r\n            this.append(item);\r\n        else\r\n            this.append(new ListItemBuilder(item));\r\n        return this;\r\n    }\r\n    addItems(items) {\r\n        items.forEach(e => this.addItem(e));\r\n        return this;\r\n    }\r\n    addSublist(listBuilder) {\r\n        this.append(new TagBuilder('li').append(listBuilder));\r\n        return this;\r\n    }\r\n}\r\nclass AudioBuilder extends TagBuilder {\r\n    constructor(src, id) {\r\n        super('audio', id);\r\n        src = Objects.requireNonNull(src, 'src');\r\n        if (this.isHeadlessMode) {\r\n            this.attr('src', src);\r\n            this.attr('controls', true);\r\n        }\r\n        else {\r\n            this.node.src = src;\r\n            this.node.controls = true;\r\n        }\r\n    }\r\n    addFallbackSrc(src, type) {\r\n        this.append(new SourceBuilder(src, type));\r\n        return this;\r\n    }\r\n    loop() {\r\n        if (this.isHeadlessMode)\r\n            this.attr('loop', true);\r\n        else\r\n            this.node.loop = true;\r\n        return this;\r\n    }\r\n    muted() {\r\n        if (this.isHeadlessMode)\r\n            this.attr('muted', true);\r\n        else\r\n            this.node.muted = true;\r\n        return this;\r\n    }\r\n    noControls() {\r\n        if (this.isHeadlessMode)\r\n            this.attr('controls', false);\r\n        else\r\n            this.node.controls = false;\r\n        return this;\r\n    }\r\n    onNotSupported(html) {\r\n        this.fallbackHTML = html;\r\n        return this;\r\n    }\r\n    preload(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('preload', value);\r\n        else\r\n            this.node.preload = value;\r\n        return this;\r\n    }\r\n    track(src, kind, isDefault = false, srclang = 'en', label) {\r\n        this.append(new TagBuilder('track').attr(\"kind\", kind).attr('srclang', srclang).attr('src', src).attr('label', label).attr('default', isDefault));\r\n        return this;\r\n    }\r\n    clone() {\r\n        var _a, _b;\r\n        const builder = new AudioBuilder((_b = (_a = this.node) === null || _a === void 0 ? void 0 : _a.src, (_b !== null && _b !== void 0 ? _b : '')), this.tagId);\r\n        builder.fallbackHTML = this.fallbackHTML;\r\n        builder.isCached = this.isCached;\r\n        if (this.isHeadlessMode)\r\n            builder.hNode = this.hNode.clone();\r\n        else\r\n            builder.node = this.node.cloneNode(true);\r\n        return builder;\r\n    }\r\n    build() {\r\n        if (this.isCached)\r\n            return this.node;\r\n        this.isCached = true;\r\n        if (Objects.isDefined(this.fallbackHTML))\r\n            this.append(this.fallbackHTML);\r\n        return this.node;\r\n    }\r\n    buildHTML() {\r\n        if (this.isCached)\r\n            return this.isHeadlessMode ? this.hNode.build() : this.node.outerHTML;\r\n        this.isCached = true;\r\n        if (Objects.isDefined(this.fallbackHTML))\r\n            this.append(this.fallbackHTML);\r\n        return this.isHeadlessMode ? this.hNode.build() : this.node.outerHTML;\r\n    }\r\n}\r\nclass EmbedBuilder extends TagBuilder {\r\n    constructor(src, type, id) {\r\n        super('embed', id);\r\n        src = Objects.requireNonNull(src, 'src in EmbedBuilder');\r\n        type = Objects.requireNonNull(type, 'type in EmbedBuilder');\r\n        if (this.isHeadlessMode) {\r\n            this.attr('src', src);\r\n            this.attr('type', type);\r\n        }\r\n        else {\r\n            this.node.src = src;\r\n            this.node.type = type;\r\n        }\r\n    }\r\n}\r\nclass IframeBuilder extends TagBuilder {\r\n    constructor(src, id) {\r\n        super('iframe', id);\r\n        src = Objects.requireNonNull(src, 'src');\r\n        if (this.isHeadlessMode)\r\n            this.attr('src', src);\r\n        else\r\n            this.node.src = src;\r\n    }\r\n    allow(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('allow', value);\r\n        else\r\n            this.node.allow = value;\r\n        return this;\r\n    }\r\n    referrerPolicy(value = 'no-referrer-when-downgrade') {\r\n        value = Objects.ofNullable(value, 'no-referrer-when-downgrade');\r\n        if (this.isHeadlessMode)\r\n            this.attr('referrerpolicy', value);\r\n        else\r\n            this.node.referrerPolicy = value;\r\n        return this;\r\n    }\r\n    sandbox(value = '') {\r\n        this.attr('sandbox', value);\r\n        return this;\r\n    }\r\n    srcdoc(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('srcdoc', value);\r\n        else\r\n            this.node.srcdoc = value;\r\n        return this;\r\n    }\r\n}\r\nclass ImageBuilder extends TagBuilder {\r\n    constructor(src, alt, id) {\r\n        super('img', id);\r\n        src = Objects.requireNonNull(src, 'src');\r\n        alt = Objects.requireNonNull(alt, 'alt');\r\n        if (this.isHeadlessMode) {\r\n            this.attr('src', src);\r\n            this.attr('alt', alt);\r\n            this.attr('title', alt);\r\n        }\r\n        else {\r\n            this.node.src = src;\r\n            this.node.alt = alt;\r\n            this.node.title = alt;\r\n        }\r\n    }\r\n    decoding(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('decoding', value);\r\n        else\r\n            this.node.decoding = value;\r\n        return this;\r\n    }\r\n    sizes(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('sizes', value);\r\n        else\r\n            this.node.sizes = value;\r\n        return this;\r\n    }\r\n    srcset(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('srcset', value);\r\n        else\r\n            this.node.srcset = value;\r\n        return this;\r\n    }\r\n}\r\nclass PictureBuilder extends TagBuilder {\r\n    constructor(imgBuilder, id) {\r\n        super('picture', id);\r\n        this.img = imgBuilder;\r\n    }\r\n    source(...source) {\r\n        this.append(...source);\r\n        return this;\r\n    }\r\n    clone() {\r\n        const builder = new PictureBuilder(this.img);\r\n        builder.isCached = this.isCached;\r\n        builder.img = this.img.clone();\r\n        if (this.isHeadlessMode)\r\n            builder.hNode = this.hNode.clone();\r\n        else\r\n            builder.node = this.node.cloneNode(true);\r\n        return builder;\r\n    }\r\n    build() {\r\n        if (this.isCached)\r\n            return this.node;\r\n        this.isCached = true;\r\n        this.append(this.img);\r\n        return this.node;\r\n    }\r\n    buildHTML() {\r\n        if (this.isCached)\r\n            return this.isHeadlessMode ? this.hNode.build() : this.node.outerHTML;\r\n        this.isCached = true;\r\n        this.append(this.img);\r\n        return this.isHeadlessMode ? this.hNode.build() : this.node.outerHTML;\r\n    }\r\n}\r\nclass SourceBuilder extends TagBuilder {\r\n    constructor(src, type, id) {\r\n        super('source', id);\r\n        src = Objects.requireNonNull(src, 'src');\r\n        type = Objects.requireNonNull(type, 'type');\r\n        if (this.isHeadlessMode) {\r\n            this.attr('src', src);\r\n            this.attr('type', type);\r\n        }\r\n        else {\r\n            this.node.src = src;\r\n            this.node.type = type;\r\n        }\r\n    }\r\n    media(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('media', value);\r\n        else\r\n            this.node.media = value;\r\n        return this;\r\n    }\r\n    sizes(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('sizes', value);\r\n        else\r\n            this.node.sizes = value;\r\n        return this;\r\n    }\r\n    srcset(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('srcset', value);\r\n        else\r\n            this.node.srcset = value;\r\n        return this;\r\n    }\r\n}\r\nclass VideoBuilder extends TagBuilder {\r\n    constructor(src, type, id) {\r\n        super('video', id);\r\n        src = Objects.requireNonNull(src, 'src');\r\n        this.attr('type', Objects.requireNonNull(type, 'type'));\r\n        if (this.isHeadlessMode) {\r\n            this.attr('src', src);\r\n            this.attr('controls', true);\r\n        }\r\n        else {\r\n            this.node.src = src;\r\n            this.node.controls = true;\r\n        }\r\n    }\r\n    addFallbackSrc(src, type) {\r\n        this.append(new SourceBuilder(src, type));\r\n        return this;\r\n    }\r\n    loop() {\r\n        if (this.isHeadlessMode)\r\n            this.attr('loop', true);\r\n        else\r\n            this.node.loop = true;\r\n        return this;\r\n    }\r\n    muted() {\r\n        if (this.isHeadlessMode)\r\n            this.attr('muted', true);\r\n        else\r\n            this.node.muted = true;\r\n        return this;\r\n    }\r\n    noControls() {\r\n        if (this.isHeadlessMode)\r\n            this.attr('controls', false);\r\n        else\r\n            this.node.controls = false;\r\n        return this;\r\n    }\r\n    onNotSupported(html) {\r\n        this.fallbackHTML = html;\r\n        return this;\r\n    }\r\n    poster(url) {\r\n        url = Objects.requireNonNull(url, 'poster');\r\n        if (this.isHeadlessMode)\r\n            this.attr('poster', url);\r\n        else\r\n            this.node.poster = url;\r\n        return this;\r\n    }\r\n    preload(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('preload', value);\r\n        else\r\n            this.node.preload = value;\r\n        return this;\r\n    }\r\n    track(src, kind, isDefault = false, srclang = 'en', label) {\r\n        this.append(new TagBuilder('track').attr(\"kind\", kind).attr('srclang', srclang).attr('src', src).attr('label', label).attr('default', isDefault));\r\n        return this;\r\n    }\r\n    clone() {\r\n        var _a, _b, _c, _d;\r\n        const builder = new VideoBuilder((_b = (_a = this.node) === null || _a === void 0 ? void 0 : _a.src, (_b !== null && _b !== void 0 ? _b : '')), (_d = (_c = this.node) === null || _c === void 0 ? void 0 : _c.getAttribute('type'), (_d !== null && _d !== void 0 ? _d : '')));\r\n        builder.fallbackHTML = this.fallbackHTML;\r\n        builder.isCached = this.isCached;\r\n        if (this.isHeadlessMode)\r\n            builder.hNode = this.hNode.clone();\r\n        else\r\n            builder.node = this.node.cloneNode(true);\r\n        return builder;\r\n    }\r\n    build() {\r\n        if (this.isCached)\r\n            return this.node;\r\n        this.isCached = true;\r\n        if (Objects.isDefined(this.fallbackHTML))\r\n            this.append(this.fallbackHTML);\r\n        return this.node;\r\n    }\r\n    buildHTML() {\r\n        if (this.isCached)\r\n            return this.isHeadlessMode ? this.hNode.build() : this.node.outerHTML;\r\n        this.isCached = true;\r\n        this.append(this.fallbackHTML);\r\n        return this.isHeadlessMode ? this.hNode.build() : this.node.outerHTML;\r\n    }\r\n}\r\nclass MeterBuilder extends TagBuilder {\r\n    constructor(id) {\r\n        super('meter', id);\r\n    }\r\n    min(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('min', value);\r\n        else\r\n            this.node.min = value;\r\n        return this;\r\n    }\r\n    max(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('max', value);\r\n        else\r\n            this.node.max = value;\r\n        return this;\r\n    }\r\n    minmax(min, max) {\r\n        return this.min(min).max(max);\r\n    }\r\n    low(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('low', value);\r\n        else\r\n            this.node.low = value;\r\n        return this;\r\n    }\r\n    high(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('high', value);\r\n        else\r\n            this.node.high = value;\r\n        return this;\r\n    }\r\n    lowhigh(low, high) {\r\n        return this.low(low).high(high);\r\n    }\r\n    optimum(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('optimum', value);\r\n        else\r\n            this.node.optimum = value;\r\n        return this;\r\n    }\r\n}\r\nclass ProgressBuilder extends TagBuilder {\r\n    constructor(value, id) {\r\n        super('progress', id);\r\n        value = Objects.requireNonNull(value, 'value');\r\n        if (this.isHeadlessMode)\r\n            this.attr('value', value);\r\n        else\r\n            this.node.value = value;\r\n    }\r\n    max(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('max', value);\r\n        else\r\n            this.node.max = value;\r\n        return this;\r\n    }\r\n}\r\nclass FormBuilder extends TagBuilder {\r\n    constructor(actionUrl, method = 'get', id) {\r\n        super('form', id);\r\n        method = Objects.ofNullable(method, 'get');\r\n        actionUrl = Objects.requireNonNull(actionUrl, 'actionUrl of FormBuilder');\r\n        if (this.isHeadlessMode) {\r\n            this.attr('method', method);\r\n            this.attr('action', actionUrl);\r\n        }\r\n        else {\r\n            this.node.method = method;\r\n            this.node.action = actionUrl;\r\n        }\r\n    }\r\n    acceptCharset(...value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('acceptcharset', value.join(\" \"));\r\n        else\r\n            this.node.acceptCharset = value.join(\" \");\r\n        return this;\r\n    }\r\n    enctype(value) {\r\n        value = Objects.ofNullable(value, 'application/x-www-form-urlencoded');\r\n        if (this.isHeadlessMode)\r\n            this.attr('enctype', value);\r\n        else\r\n            this.node.enctype = value;\r\n        return this;\r\n    }\r\n    rel(value) {\r\n        this.attr('rel', value);\r\n        return this;\r\n    }\r\n    target(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('target', value);\r\n        else\r\n            this.node.target = value;\r\n        return this;\r\n    }\r\n    noValidate() {\r\n        if (this.isHeadlessMode)\r\n            this.attr('novalidate', true);\r\n        else\r\n            this.node.noValidate = true;\r\n        return this;\r\n    }\r\n}\r\nclass ScriptBuilder extends TagBuilder {\r\n    constructor(id) {\r\n        super('script', id);\r\n        if (this.isHeadlessMode)\r\n            this.attr('async', TagBuilderOptions.scriptAsync);\r\n        else\r\n            this.node.async = TagBuilderOptions.scriptAsync;\r\n    }\r\n    async() {\r\n        if (this.isHeadlessMode)\r\n            this.attr('async', true);\r\n        else\r\n            this.node.async = true;\r\n        return this;\r\n    }\r\n    crossOrigin(value) {\r\n        value = Objects.ofNullable(value, '');\r\n        if (this.isHeadlessMode)\r\n            this.attr('crossorigin', value);\r\n        else\r\n            this.node.crossOrigin = value;\r\n        return this;\r\n    }\r\n    defer() {\r\n        if (this.isHeadlessMode)\r\n            this.attr('defer', true);\r\n        else\r\n            this.node.defer = true;\r\n        return this;\r\n    }\r\n    integrity(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('integrity', value);\r\n        else\r\n            this.node.integrity = value;\r\n        return this;\r\n    }\r\n    noModule() {\r\n        if (this.isHeadlessMode)\r\n            this.attr('nomodule', true);\r\n        else\r\n            this.node.noModule = true;\r\n        return this;\r\n    }\r\n    nonce(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('nonce', value);\r\n        else\r\n            this.node.nonce = value;\r\n        return this;\r\n    }\r\n    referrerPolicy(value) {\r\n        value = Objects.ofNullable(value, '');\r\n        if (this.isHeadlessMode)\r\n            this.attr('referrerpolicy', value);\r\n        else\r\n            this.node.referrerPolicy = value;\r\n        return this;\r\n    }\r\n    src(url) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('src', url);\r\n        else\r\n            this.node.src = url;\r\n        return this;\r\n    }\r\n    type(value) {\r\n        if (this.isHeadlessMode)\r\n            this.attr('type', value);\r\n        else\r\n            this.node.type = value;\r\n        return this;\r\n    }\r\n}\r\nclass ColGroupBuilder extends TagBuilder {\r\n    constructor(id) {\r\n        super('colgroup', id);\r\n    }\r\n    addCol(span, ...aClass) {\r\n        const col = new TagBuilder('col').classes(...aClass);\r\n        if (Objects.isDefined(span))\r\n            col.attr('span', span);\r\n        this.append(col);\r\n        return this;\r\n    }\r\n}\r\nclass TableBuilder extends TagBuilder {\r\n    constructor(caption, id) {\r\n        super('table', id);\r\n        this.header = null;\r\n        this.body = null;\r\n        this.caption = null;\r\n        this.colGroupBuilder = null;\r\n        if (this.isHeadlessMode) {\r\n            this.header = new TagBuilder('tr');\r\n            this.body = new TagBuilder('tbody');\r\n        }\r\n        else {\r\n            this.header = this.node.createTHead();\r\n            this.body = this.node.createTBody();\r\n        }\r\n        if (!Objects.isEmptyOrWhitespace(caption))\r\n            if (this.isHeadlessMode)\r\n                this.caption = new TagBuilder('caption').innerHTML(caption);\r\n            else {\r\n                this.caption = this.node.createCaption();\r\n                this.caption.innerHTML = caption;\r\n            }\r\n    }\r\n    addHeader(...html) {\r\n        if (html.length === 0)\r\n            return this;\r\n        const headers = html.map(m => new TagBuilder(\"th\").innerHTML(m));\r\n        if (this.isHeadlessMode)\r\n            this.header.append(...headers.map(m => m.buildHTML()));\r\n        else {\r\n            if (this.node.tHead.firstChild === null)\r\n                this.node.tHead.append(new TagBuilder('tr').build());\r\n            this.node.tHead.firstChild.append(...headers.map(m => m.build()));\r\n        }\r\n        return this;\r\n    }\r\n    addRow(...html) {\r\n        if (html.length === 0)\r\n            return this;\r\n        const rows = html.map(m => new TagBuilder(\"td\").innerHTML(m));\r\n        if (this.isHeadlessMode)\r\n            this.body.append(new TagBuilder(\"tr\").append(...rows));\r\n        else\r\n            this.body.append(new TagBuilder(\"tr\").append(...rows).build());\r\n        return this;\r\n    }\r\n    colgroup(builder) {\r\n        this.colGroupBuilder = builder;\r\n        return this;\r\n    }\r\n    collapse() {\r\n        this.style({ 'border-collapse': 'collapse' });\r\n        return this;\r\n    }\r\n    setHeaders(...html) {\r\n        if (this.isHeadlessMode)\r\n            this.header = new TagBuilder('tr');\r\n        else {\r\n            this.node.deleteTHead();\r\n            this.header = this.node.createTHead();\r\n        }\r\n        if (html.length > 0)\r\n            this.addHeader(...html);\r\n        return this;\r\n    }\r\n    setRows(...rows) {\r\n        if (this.isHeadlessMode)\r\n            this.body = new TagBuilder('tbody');\r\n        else\r\n            this.body.innerHTML = '';\r\n        if (rows.length > 0)\r\n            rows.forEach(row => this.addRow(...row));\r\n        return this;\r\n    }\r\n    clone() {\r\n        var _a;\r\n        const builder = new TableBuilder((_a = this.node) === null || _a === void 0 ? void 0 : _a.caption.innerHTML);\r\n        builder.isCached = this.isCached;\r\n        builder.body = this.body;\r\n        builder.header = this.header;\r\n        builder.colGroupBuilder = this.colGroupBuilder;\r\n        if (this.isHeadlessMode) {\r\n            builder.caption = this.caption.clone();\r\n            builder.hNode = this.hNode.clone();\r\n            return builder;\r\n        }\r\n        builder.caption = builder.node.createCaption();\r\n        builder.caption.innerHTML = this.caption.innerHTML;\r\n        builder.node = this.node.cloneNode(true);\r\n        return builder;\r\n    }\r\n    build() {\r\n        if (this.isCached)\r\n            return this.node;\r\n        this.isCached = true;\r\n        this.buildSections();\r\n        return this.node;\r\n    }\r\n    buildHTML() {\r\n        if (this.isCached)\r\n            return this.isHeadlessMode ? this.hNode.build() : this.node.outerHTML;\r\n        this.isCached = true;\r\n        this.buildSections();\r\n        return this.isHeadlessMode ? this.hNode.build() : this.node.outerHTML;\r\n    }\r\n    buildSections() {\r\n        if (this.isHeadlessMode) {\r\n            this.append(new TagBuilder('thead').append(this.header));\r\n            this.append(this.body);\r\n        }\r\n        if (this.isHeadlessMode && this.caption !== null) {\r\n            if (this.colGroupBuilder !== null)\r\n                this.prepend(this.colGroupBuilder);\r\n            this.prepend(this.caption);\r\n        }\r\n        if (this.colGroupBuilder !== null) {\r\n            if (!this.isHeadlessMode && this.caption !== null) {\r\n                this.caption.insertAdjacentElement('afterend', this.colGroupBuilder.build());\r\n            }\r\n            else if (this.isHeadlessMode)\r\n                this.prepend(this.colGroupBuilder);\r\n            else\r\n                this.node.prepend(this.colGroupBuilder.build());\r\n        }\r\n    }\r\n}\r\nclass SlotBuilder extends TagBuilder {\r\n    constructor(name, content, id) {\r\n        super('slot', id);\r\n        Objects.requireNonNull(content, 'content in SlotBuilder');\r\n        name = Objects.requireNonNull(name, 'name in SlotBuilder');\r\n        if (this.isHeadlessMode)\r\n            this.hNode.attr('name', name);\r\n        else\r\n            this.node.name = name;\r\n        this.append(content);\r\n    }\r\n}\r\nclass TemplateBuilder extends TagBuilder {\r\n    constructor(id) {\r\n        super('template', id);\r\n        this.styleBuilder = null;\r\n        Objects.requireNonNull(id, 'id in Template Builder');\r\n    }\r\n    addStylesToRoot(cssText) {\r\n        if (!Objects.isDefined(cssText))\r\n            return this;\r\n        if (this.styleBuilder !== null)\r\n            this.styleBuilder.append(cssText);\r\n        else\r\n            this.styleBuilder = new TagBuilder('style').innerText(cssText);\r\n        return this;\r\n    }\r\n    addSlots(...slot) {\r\n        if (!Objects.isDefined(slot) || slot.length === 0)\r\n            return this;\r\n        this.append(...slot);\r\n        return this;\r\n    }\r\n    clone() {\r\n        const builder = new TemplateBuilder(this.tagId);\r\n        builder.isCached = this.isCached;\r\n        if (this.styleBuilder !== null)\r\n            builder.styleBuilder = this.styleBuilder.clone();\r\n        if (this.isHeadlessMode)\r\n            builder.hNode = this.hNode.clone();\r\n        else\r\n            builder.node = this.node.cloneNode(true);\r\n        return builder;\r\n    }\r\n    buildHTML() {\r\n        if (this.isCached)\r\n            return this.hNode.build();\r\n        this.isCached = true;\r\n        this.prepend(this.styleBuilder);\r\n        return this.isHeadlessMode ? this.hNode.build() : this.build().outerHTML;\r\n    }\r\n    build() {\r\n        if (this.isCached)\r\n            return this.node;\r\n        this.isCached = true;\r\n        this.prepend(this.styleBuilder);\r\n        return this.node;\r\n    }\r\n}\r\nclass SVGBuilder extends AbstractTagBuilder {\r\n    constructor(viewBox, id, xmlns = 'http://www.w3.org/2000/svg') {\r\n        super('svg', id, xmlns);\r\n        if (Objects.isEmptyOrWhitespace(xmlns))\r\n            Objects.requireNonNull(null, 'xmlns');\r\n        if (!Objects.isEmptyOrWhitespace(viewBox))\r\n            this.attr('viewBox', viewBox);\r\n    }\r\n    bounds(width, height) {\r\n        this.width(width);\r\n        this.height(height);\r\n        return this;\r\n    }\r\n    height(height) {\r\n        this.attr('height', height);\r\n        return this;\r\n    }\r\n    width(width) {\r\n        this.attr('width', width);\r\n        return this;\r\n    }\r\n    clone() {\r\n        const builder = new SVGBuilder();\r\n        builder.isCached = this.isCached;\r\n        if (this.isHeadlessMode)\r\n            builder.hNode = this.hNode.clone();\r\n        else\r\n            builder.node = this.node.cloneNode(true);\r\n        return builder;\r\n    }\r\n}\r\nclass SVGElementBuilder extends AbstractTagBuilder {\r\n    constructor(element, xmlns = 'http://www.w3.org/2000/svg', id) {\r\n        super(element, id, xmlns);\r\n        if (Objects.isEmptyOrWhitespace(xmlns))\r\n            Objects.requireNonNull(null, 'xmlns');\r\n    }\r\n    fill(value) {\r\n        this.attr('fill', value);\r\n        return this;\r\n    }\r\n    stroke(stroke, width) {\r\n        this.attr('stroke', stroke);\r\n        this.attr('stroke-width', width);\r\n        return this;\r\n    }\r\n    width(width) {\r\n        this.attr('width', width);\r\n        return this;\r\n    }\r\n    height(height) {\r\n        this.attr('height', height);\r\n        return this;\r\n    }\r\n    bounds(width, height) {\r\n        this.width(width);\r\n        this.height(height);\r\n        return this;\r\n    }\r\n    preserveAspectRatio(value) {\r\n        this.attr('preserveAspectRatio', value);\r\n        return this;\r\n    }\r\n    x(value) {\r\n        this.attr('x', value);\r\n        return this;\r\n    }\r\n    y(value) {\r\n        this.attr('y', value);\r\n        return this;\r\n    }\r\n    viewBox(viewBox) {\r\n        this.attr('viewBox', viewBox);\r\n        return this;\r\n    }\r\n    clone() {\r\n        const builder = new SVGElementBuilder(this.tagName);\r\n        builder.isCached = this.isCached;\r\n        if (this.isHeadlessMode)\r\n            builder.hNode = this.hNode.clone();\r\n        else\r\n            builder.node = this.node.cloneNode(true);\r\n        return builder;\r\n    }\r\n}\r\nif (typeof module !== \"undefined\" && module.exports) {\r\n    module.exports = {\r\n        TagBuilder,\r\n        TagBuilderOptions,\r\n        Objects,\r\n        BlockquoteBuilder,\r\n        FieldsetBuilder,\r\n        FigureBuilder,\r\n        AnchorBuilder,\r\n        DownloadLinkBuilder,\r\n        AreaBuilder,\r\n        DownloadAreaBuilder,\r\n        DataBuilder,\r\n        SpanBuilder,\r\n        InputBuilder,\r\n        NumberInputBuilder,\r\n        CheckboxInputBuilder,\r\n        RadioInputBuilder,\r\n        RangeInputBuilder,\r\n        DateInputBuilder,\r\n        DateTimeLocalInputBuilder,\r\n        MonthInputBuilder,\r\n        TimeInputBuilder,\r\n        WeekInputBuilder,\r\n        FileInputBuilder,\r\n        ImageInputBuilder,\r\n        TextInputBuilder,\r\n        EmailInputBuilder,\r\n        PasswordInputBuilder,\r\n        SearchInputBuilder,\r\n        TelInputBuilder,\r\n        UrlInputBuilder,\r\n        TextAreaBuilder,\r\n        DataListBuilder,\r\n        DLBuilder,\r\n        DetailsBuilder,\r\n        OptionBuilder,\r\n        SelectBuilder,\r\n        ListItemBuilder,\r\n        ListBuilder,\r\n        SourceBuilder,\r\n        AudioBuilder,\r\n        EmbedBuilder,\r\n        IframeBuilder,\r\n        ImageBuilder,\r\n        PictureBuilder,\r\n        VideoBuilder,\r\n        MeterBuilder,\r\n        ProgressBuilder,\r\n        FormBuilder,\r\n        ScriptBuilder,\r\n        ColGroupBuilder,\r\n        TableBuilder,\r\n        SlotBuilder,\r\n        TemplateBuilder,\r\n        SVGBuilder,\r\n        SVGElementBuilder\r\n    };\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","export const AbstractEnum = {\r\n\r\n    extend: function (enumObject) {\r\n        return Object.freeze(Object.assign(this, enumObject));\r\n    }\r\n\r\n}","\r\nexport default class CRUD {\r\n\r\n    static get(path, formData = {}) {\r\n        const query = new URLSearchParams([...Object.entries(formData)]);\r\n        return fetchOnce(`${path}?${query.toString()}`, { expectingStatus: 200 });\r\n    }\r\n\r\n    static getPage(path, cursor = [0, 0], limit = 15, formData = {}) {\r\n        const query = new URLSearchParams([\r\n            ['cursor', cursor || [0, 0]],\r\n            ['limit', limit || 15],\r\n            ...Object.entries(formData)\r\n        ]);\r\n\r\n        return fetchOnce(`${path}?${query.toString()}`, { expectingStatus: 200 });\r\n    }\r\n\r\n    static post(path, isJsonResponse, formData = undefined, expectingStatus = undefined) {\r\n        const query = formData\r\n            ? `?${new URLSearchParams(Object.entries(formData)).toString()}`\r\n            : '';\r\n\r\n        return fetchOnce(path + query, { method: 'POST', expectingStatus: expectingStatus || [200, 201], contentType: isJsonResponse ? 'application/json' : 'text/plain' });\r\n    }\r\n\r\n    static delete(path) {\r\n        return fetchOnce(path, { method: 'DELETE', expectingStatus: 204, contentType: 'text/plain' });\r\n    }\r\n\r\n    static put(path, jsonBody = undefined, expectingStatus = undefined) {\r\n        let contentType = 'text/plain';\r\n\r\n        const opts = {\r\n            method: 'PUT',\r\n            expectingStatus: expectingStatus || 200,\r\n            contentType\r\n        }\r\n\r\n        if (jsonBody) {\r\n            opts['contentType'] = 'application/json';\r\n            opts['body'] = JSON.stringify(jsonBody);\r\n        }\r\n\r\n        return fetchOnce(path, opts);\r\n    }\r\n\r\n    static patch(path, expectingStatus = undefined) {\r\n        return fetchOnce(path, { method: 'PATCH', expectingStatus, contentType: 'text/plain' });\r\n    }\r\n\r\n}\r\n\r\nclass CRUDError extends Error {\r\n\r\n    constructor(response, body = null) {\r\n        super();\r\n        this.status = response.status;\r\n        this.statusText = response.statusText || null;\r\n        this.body = body || null;\r\n    }\r\n\r\n}\r\n\r\nconst fetchOnce = (path, { method = 'GET', expectingStatus = undefined, contentType = 'application/json', body = undefined }) => {\r\n    return Promise.resolve(fetch(path, {\r\n        method, body, headers: {\r\n        'Content-Type' : contentType\r\n    } })\r\n    .then(async response => {\r\n        if (expectingStatus !== undefined) {\r\n            if (Array.isArray(expectingStatus) && !expectingStatus.includes(response.status))\r\n                throw new CRUDError(response, await response.text());\r\n            else if (expectingStatus !== response.status)\r\n                throw new CRUDError(response, await response.text());\r\n\r\n        }\r\n        else if (!expectingStatus && !response.ok) throw new CRUDError(response.status, response.statusText, await response.text());\r\n\r\n        return response;\r\n    })\r\n    .then(body => {\r\n        if (contentType.includes('json'))\r\n            return body.json();\r\n        else return body.text();\r\n    })\r\n)\r\n\r\n}","import { AbstractEnum } from \"../model/enum/enum\";\r\nimport CRUD from \"../service/crud\";\r\n\r\nconst PlayerStatus = AbstractEnum.extend({\r\n    UNSTARTED: -1,\r\n    ENDED: 0,\r\n    PLAYING: 1,\r\n    PAUSED: 2,\r\n    BUFFERING: 3,\r\n    CUED: 5\r\n})\r\n\r\nexport default class YouTubeIframeAPIService {\r\n\r\n    static init() {\r\n        const script = document.createElement(\"script\");\r\n        script.type = \"text/javascript\";\r\n        script.src = \"https://www.youtube.com/iframe_api\";\r\n        return new Promise(async resolve => {\r\n            const settings = await CRUD.get('/settings');\r\n            if (settings.youtubeIframeAPIEnabled) {\r\n                document.body.appendChild(script);\r\n                window.onYouTubeIframeAPIReady = resolve;\r\n            }\r\n            else resolve();\r\n        });\r\n\r\n    }\r\n\r\n    static newInstance(elementId) {\r\n        const target = document.getElementById(elementId);\r\n        return new YT.Player(elementId, {\r\n            events: {\r\n                'onReady': e => YouTubeIframeAPIService.onPlayerReady(e, target),\r\n                'onStateChange': e => YouTubeIframeAPIService.onPlayerStateChange(e.data, target)\r\n            }\r\n        })\r\n    }\r\n\r\n    static onPlayerReady(event, target) {\r\n        // console.log('player ready');\r\n    }\r\n\r\n    static async onPlayerStateChange(playerStatus, target) {\r\n        switch (playerStatus) {\r\n            case PlayerStatus.ENDED:\r\n                const entry = target.closest('.entry').parentElement;\r\n                const settings = await CRUD.get('/settings');\r\n                if (settings.youtubeIframeAPIAutoplay) {\r\n                    const formData = entry.querySelector('yt-image-video').formData;\r\n                    CRUD.post(`/video/${formData.videoId}/watched`, false, formData, 201)\r\n                        .catch(console.error)\r\n                        .finally(async () => {\r\n                            if (entry.nextSibling) {\r\n                                const { nextSibling } = entry;\r\n                                if (document.fullscreenElement)\r\n                                    await document.exitFullscreen();\r\n                                entry.classList.remove('theatre');\r\n                                nextSibling.querySelector('img').click();\r\n                            }\r\n                            else if (document.getElementById('dropdown-video-category').querySelector('button').innerText.startsWith('Collections')) {\r\n                                const first = entry.closest('section').querySelector('.entry');\r\n\r\n                                if (document.fullscreenElement)\r\n                                    await document.exitFullscreen();\r\n                                entry.classList.remove('theatre');\r\n\r\n                                if (first.querySelector('img') !== null)\r\n                                    first.querySelector('img').click();\r\n                                else first.querySelector('yt-image-video').play();\r\n                            }\r\n                        })\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n}","import YouTubeIframeAPIService from \"./service/youtube-iframe-service\";\r\n\r\nwindow.onkeydown = (e) => {\r\n    if (e.key === 'Escape' && document.querySelector('.entry-container.theatre') !== null)\r\n        document.querySelector('.entry-container.theatre').classList.toggle('theatre');\r\n}\r\n\r\nwindow.onclick = (e) => {\r\n    const { target } = e;\r\n\r\n    if (target.classList.contains('details') && target.closest('.entry-container').classList.contains('theatre'))\r\n        target.closest('.entry-container').classList.remove('theatre');\r\n\r\n    if (!target.classList.contains('theatre') || !target.classList.contains('entry-container')) return;\r\n\r\n    target.classList.remove('theatre');\r\n}\r\n\r\n\r\nYouTubeIframeAPIService.init().then(() => console.log('YouTube Iframe API Ready or resolved because not permitted'));","import { TagBuilder } from \"html-tag-builder\";\r\n\r\nexport default class EmptyBuilder extends TagBuilder {\r\n\r\n    constructor(body, id) {\r\n        super('div', id);\r\n        this.classes('empty', 'text-gray');\r\n        this.style({ background: 'none' });\r\n\r\n        this.append(\r\n            new TagBuilder('p').classes('empty-title', 'h5').innerHTML(body)\r\n        )\r\n    }\r\n\r\n}","import { TagBuilder } from \"html-tag-builder\";\r\n\r\nexport default class LoadMoreBtnBuilder extends TagBuilder {\r\n\r\n    constructor(parent, onClick) {\r\n        super('div', 'loadMore');\r\n\r\n        this.classes('grid-col-span-all');\r\n\r\n        this.append(\r\n            new TagBuilder('button')\r\n                .classes('btn', 'btn-link')\r\n                .innerText('Load More')\r\n                .on('click', async () => {\r\n                    const div = document.getElementById('loadMore');\r\n                    parent.removeChild(div);\r\n                    parent.append(\r\n                        new TagBuilder('div').classes('empty', 'text-gray', 'grid-col-span-all')\r\n                            .style({\r\n                                'background': 'none'\r\n                            })\r\n                            .append(\r\n                                new TagBuilder('p').classes('empty-title', 'h5').append(\r\n                                    new TagBuilder('button').classes('btn', 'btn-link', 'btn-lg', 'loading')\r\n                                        .attr('disabled', true)\r\n                                )\r\n                            )\r\n                            .build()\r\n                    );\r\n                    parent.scrollTo(0, parent.scrollHeight);\r\n                    await Promise.resolve(onClick());\r\n                })\r\n        )\r\n\r\n    }\r\n\r\n}","export const ElementFactory = Object.freeze({\r\n\r\n    main: {\r\n        menu: {\r\n            target: document.querySelector('header .dropdown'),\r\n\r\n            ul: document.querySelector('header .dropdown .menu')\r\n        },\r\n\r\n        videos: {\r\n            target: document.querySelector('main section'),\r\n            loadMoreBtn: document.getElementById('loadMore')\r\n        },\r\n\r\n        aside: {\r\n            target: document.querySelector('aside'),\r\n            ul: document.querySelector('aside ul'),\r\n            search: document.querySelector('#query input'),\r\n            searchDataList: document.querySelector('#dl-channels')\r\n        },\r\n\r\n        toolbar: {\r\n            target: document.getElementById('toolbar'),\r\n\r\n            dropdown: document.getElementById('dropdown-video-category'),\r\n\r\n            dropdownBtn: document.querySelector('#dropdown-video-category button.dropdown-toggle'),\r\n\r\n            todayFilterGroup: document.getElementById('todayFilterGroup')\r\n        }\r\n\r\n    },\r\n\r\n});","import { ListBuilder, TagBuilder } from \"html-tag-builder\";\r\nimport CRUD from \"../../../service/crud\";\r\n\r\nexport default class ActionsBuilder extends TagBuilder {\r\n\r\n    constructor(entry) {\r\n        super('div');\r\n        this.classes('actions');\r\n        this.entry = entry;\r\n\r\n        const fd = entry;\r\n        delete fd.entry;\r\n        this.formData = fd;\r\n    }\r\n\r\n    withTheatreModeAction(closestSelector = '.entry-container') {\r\n        this.append(\r\n            new TagBuilder('button')\r\n                .style({ display: 'none' })\r\n                .classes('tooltip', 'tooltip-left', 'theatre', 'btn', 'btn-sm', 'btn-link')\r\n                .attr('data-tooltip', 'Toggle theatre mode')\r\n                .innerHTML(`<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20px\" viewBox=\"0 0 24 24\" width=\"20px\" fill=\"#000000\" style=\"margin-top:2px;\"><path d=\"M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z\" fill=\"rgb(170,170,170)\"/></svg>`)\r\n                .on('click', e => {\r\n                    const entry = e.target.closest(closestSelector);\r\n                    entry.classList.toggle('theatre');\r\n                })\r\n        )\r\n        return this;\r\n    }\r\n\r\n    withBookmarkAction() {\r\n        this.append(\r\n            new TagBuilder('button')\r\n                .style({ 'user-select': 'none' })\r\n                .attr('class', this.entry.isBookmarked ? 'bookmark-filled' : '')\r\n                .classes('tooltip', 'tooltip-left', 'btn', 'btn-sm', 'btn-link', 'bookmark')\r\n                .attr('data-tooltip', 'Toggle bookmark')\r\n                .on('click', ({ target }) => {\r\n                    target.classList.add('loading');\r\n                    if (!this.entry.isBookmarked)\r\n                        CRUD.post(`/bookmark/${this.entry.videoId}`, false, this.formData, 201)\r\n                            .then(() => {\r\n                                this.entry.isBookmarked = true;\r\n                                target.classList.remove('loading');\r\n                                target.classList.add('bookmark-filled');\r\n                            })\r\n                            .catch((err) => {\r\n                                console.error(err);\r\n                                target.classList.remove('loading');\r\n                            })\r\n                    else\r\n                        CRUD.delete(`/bookmark/${this.entry.videoId}`)\r\n                            .then(() => {\r\n                                this.entry.isBookmarked = false;\r\n                                target.classList.remove('loading');\r\n                                target.classList.remove('bookmark-filled');\r\n                            })\r\n                            .catch((err) => {\r\n                                console.error(err);\r\n                                target.classList.remove('loading');\r\n                            })\r\n                })\r\n        )\r\n        return this;\r\n    }\r\n\r\n    withDropdownItems(...itemBuilders) {\r\n        this.append(\r\n            new TagBuilder('div')\r\n                .classes('dropdown', 'dropdown-right', 'tooltip', 'tooltip-left')\r\n                .attr('data-tooltip', 'More')\r\n                .append(\r\n                    new TagBuilder('a').classes('dropdown-toggle', 'c-hand')\r\n                        .tabIndex(0)\r\n                        .append(\r\n                            new TagBuilder('i')\r\n                                .classes('icon', 'icon-more-vert')\r\n                                .width('18px')\r\n                        ),\r\n                    new ListBuilder().classes('menu').append(\r\n                        ...itemBuilders\r\n                    )\r\n                )\r\n        )\r\n        return this;\r\n    }\r\n\r\n}","export default class SmModal extends HTMLElement {\r\n    constructor(header = '') {\r\n        super('div');\r\n\r\n        this.classList.add('modal');\r\n        this.classList.add('modal-sm');\r\n        this.classList.add('modal-template');\r\n\r\n        this.innerHTML =\r\n            `<a href=\"#\" class=\"modal-overlay\" aria-label=\"Close\"></a>\r\n            <div class=\"modal-container\">\r\n                <div class=\"modal-header\">\r\n                    <a href=\"#\" class=\"btn btn-clear float-right\" aria-label=\"Close\"></a>\r\n                    <div class=\"modal-title h5\">${header}</div>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <div class=\"content\">\r\n                        <form>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div class=\"modal-footer\"></div>\r\n            </div>\r\n        `;\r\n\r\n        const closers = [...this.querySelectorAll('a.modal-overlay, a.btn.btn-clear')];\r\n        closers.forEach(c =>\r\n            c.addEventListener('click', () => this.close())\r\n        )\r\n\r\n        window.onkeydown = (e) => {\r\n            if (e.key === 'Escape') this.close();\r\n        }\r\n    }\r\n\r\n\r\n    addFormInput(label, inputBuilder) {\r\n        const input = document.createElement('label');\r\n        input.textContent = label;\r\n        input.append(inputBuilder.build());\r\n\r\n        this.querySelector('form').append(input);\r\n        input.onchange = ({ target }) => {\r\n            target.setCustomValidity('');\r\n        }\r\n    }\r\n\r\n    setBody(html) {\r\n        this.querySelector('form').innerHTML = html;\r\n    }\r\n\r\n    setFooter(html) {\r\n        this.querySelector('.modal-footer').innerHTML = html;\r\n    }\r\n\r\n    close() {\r\n        document.body.removeChild(document.querySelector('.modal-template'));\r\n    }\r\n\r\n}","import { SelectBuilder, TagBuilder } from \"html-tag-builder\";\r\nimport CRUD from \"../../../service/crud\";\r\nimport SmModal from \"./sm-modal\";\r\n\r\nexport default class SelectCollectionModal extends SmModal {\r\n    constructor(collections, entry) {\r\n        super(\"Add To Collection\");\r\n\r\n        const footer = '<form>' +\r\n            new TagBuilder('span').classes('text-error').buildHTML() +\r\n            new TagBuilder('button').classes('btn', 'btn-link').innerHTML('Save').buildHTML() +\r\n            '</form>';\r\n        this.setFooter(footer);\r\n\r\n        const selectBuilder = new SelectBuilder('Choose a collection').classes('form-input');\r\n\r\n        const choices = collections.filter(collection => !collection.videos.includes(entry.videoId));\r\n\r\n        if (choices.length === 0) {\r\n            this.querySelector('.modal-footer span.text-error').innerHTML = \"No collections available\"\r\n            this.setBody(selectBuilder.buildHTML());\r\n            this.querySelector('option').selected = true;\r\n            return;\r\n        }\r\n\r\n        choices.forEach(collection => selectBuilder.addOption(collection.name, collection.id, []));\r\n\r\n        this.querySelector('.modal-footer form').onsubmit = e => {\r\n            e.preventDefault();\r\n            const select = e.target.closest('.modal-container').querySelector('select');\r\n            const optvalue = select.options[select.selectedIndex].value;\r\n\r\n            if (optvalue.length === 0) return;\r\n\r\n            const button = e.target.querySelector('button');\r\n            button.classList.add('loading');\r\n\r\n            CRUD.post(`/collection/${optvalue}/association`, false, entry, 201)\r\n                .then(() => this.close())\r\n                .catch(err => {\r\n                    if (err.status === 400) {\r\n                        button.classList.remove('loading');\r\n                        this.querySelector('.modal-footer span.text-error').innerHTML = err.statusText;\r\n                    }\r\n                })\r\n\r\n        }\r\n\r\n        this.setBody(selectBuilder.buildHTML());\r\n        this.querySelector('option').selected = true;\r\n    }\r\n\r\n}\r\n\r\nwindow.customElements.define('select-collection-modal', SelectCollectionModal);","import SelectCollectionModal from \"../model/custom elements/modals/select-collection-modal\";\r\nimport CRUD from \"./crud\";\r\n\r\nexport default class ActionsService {\r\n\r\n    static handleAddToCollectionAction(entry) {\r\n\r\n        CRUD.get(`/collection`, { sortDir : 'asc' })\r\n            .then(collections =>\r\n                document.body.appendChild(new SelectCollectionModal(collections, entry))\r\n            )\r\n            .catch(console.error)\r\n\r\n    }\r\n\r\n}","const rf = new Intl.RelativeTimeFormat(\r\n    'en', { numeric: 'auto' }\r\n);\r\n\r\nconst dtf = new Intl.DateTimeFormat(\r\n    'en-US', {\r\n    day: 'numeric',\r\n    month: 'short',\r\n    year: 'numeric'\r\n});\r\n\r\nexport default class Formatter {\r\n\r\n    static transformViews(views) {\r\n        let resolved = new Intl.NumberFormat('en-US', { maximumSignificantDigits: 4 }).format(views);\r\n        const segments = resolved.split(',');\r\n        const prefix = segments.shift();\r\n        let suffix = '';\r\n\r\n        if (segments.length > 0) {\r\n            switch (segments.length) {\r\n                case 1:\r\n                    suffix = 'K'\r\n                    break;\r\n                case 2:\r\n                    suffix = `.${segments[0]}M`;\r\n                    break;\r\n                case 3:\r\n                    suffix = `.${segments[0]}B`;\r\n                    break;\r\n                case 4:\r\n                    suffix = `.${segments[0]}T`;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n\r\n        return prefix + suffix;\r\n    }\r\n\r\n    static transformPublishDate(date) {\r\n        const then = new Date(date);\r\n        const now = new Date();\r\n        const days = (now - then) / 86400000;\r\n\r\n        if (days < 1) {\r\n            const hours = days * 24;\r\n            if (hours < 1) return rf.format(-Math.round(hours * 60), 'minutes');\r\n            else return rf.format(-Math.round(hours), 'hours');\r\n        }\r\n        else if (Math.round(days) < 8) {\r\n            const format = rf.format(-Math.round(days), 'days');\r\n            return format.charAt(0).toUpperCase() + format.substring(1);\r\n        }\r\n        return dtf.format(then);\r\n    }\r\n}","import { IframeBuilder, ImageBuilder } from \"html-tag-builder\";\r\nimport CRUD from \"../../service/crud.js\";\r\nimport YouTubeIframeAPIService from \"../../service/youtube-iframe-service\";\r\n\r\nexport default class YTImageVideo extends HTMLElement {\r\n    constructor(entry) {\r\n        super();\r\n\r\n        this.entry = entry;\r\n        this.append(\r\n            new ImageBuilder(entry.thumbnail, `Image for ${entry.title}`)\r\n                .on('click', async function ({ target }) {\r\n                    document.querySelectorAll('yt-image-video').forEach(e => e.stop())\r\n                    target.replaceWith(\r\n                        new IframeBuilder(`https://www.youtube-nocookie.com/embed/${entry.videoId}?enablejsapi=1&autoplay=1&modestbranding=1`, `v${entry.videoId}`)\r\n                            .attr('frameborder', 0)\r\n                            .attr('allow', 'autoplay; encrypted-media; picture-in-picture; fullscreen')\r\n                            .attr('allowfullscreen', true).build()\r\n                    );\r\n\r\n                    const settings = await CRUD.get('/settings');\r\n                    if (settings.youtubeIframeAPIEnabled) {\r\n                        setTimeout(() => {\r\n                            this.player = YouTubeIframeAPIService.newInstance(`v${entry.videoId}`);\r\n                        }, 25);\r\n                    }\r\n\r\n                    document.querySelector(`.entry[data-videoId=\"${entry.videoId}\"]`)\r\n                        .querySelector('button.theatre').style.display = 'inline-block';\r\n\r\n                    if (settings.autoTheatreMode) {\r\n                        document.querySelector(`.entry[data-videoId=\"${entry.videoId}\"]`).querySelector('button.theatre').click();\r\n                    };\r\n                }.bind(this)).build()\r\n        );\r\n    }\r\n\r\n    play() {\r\n        if (this.player)\r\n            this.player.playVideo();\r\n    }\r\n\r\n    pause() {\r\n        if (this.player)\r\n            this.player.pauseVideo();\r\n    }\r\n\r\n    mute() {\r\n        if (this.player)\r\n            this.player.mute()\r\n    }\r\n\r\n    unmute() {\r\n        if (this.player)\r\n            this.player.unMute()\r\n    }\r\n\r\n    stop() {\r\n        if (this.player)\r\n            this.player.stopVideo();\r\n    }\r\n\r\n    hideVideoInfo() {\r\n        if (this.player)\r\n            this.player.hideVideoInfo();\r\n    }\r\n\r\n    get formData() {\r\n        return {\r\n            videoId: this.entry.videoId,\r\n            channelId: this.entry.channelId,\r\n            publishedDate: this.entry.publishedDate,\r\n            title: this.entry.title,\r\n            author: this.entry.author,\r\n            description : this.entry.description\r\n        }\r\n    }\r\n}\r\n\r\ncustomElements.define('yt-image-video', YTImageVideo);","import { TagBuilder, FigureBuilder,AnchorBuilder, ListBuilder, ListItemBuilder } from \"html-tag-builder\";\r\nimport Formatter from \"../../../../utils/formatter\";\r\nimport YTImageVideo from \"../../../custom elements/yt-image-vid\";\r\n\r\nexport default class AbstractEntryBuilder extends TagBuilder {\r\n\r\n    constructor(entry) {\r\n        super('div');\r\n        this.classes('entry-container');\r\n\r\n        const fd = entry;\r\n        delete fd.entry;\r\n\r\n        this.formData = fd;\r\n        this.entry = entry;\r\n\r\n        let title = entry.title.substring(0, 80);\r\n        if (entry.title.length > 80) title += ' ...';\r\n\r\n        this.append(\r\n            new TagBuilder('div').classes('entry')\r\n                .attr('data-videoId', entry.videoId)\r\n                .attr('data-channelId', entry.channelId)\r\n                .append(\r\n                    new FigureBuilder().append(new YTImageVideo(entry))\r\n                        .margin(0).padding(0),\r\n\r\n                    new TagBuilder('div').classes('details').position('relative').append(\r\n                        new TagBuilder('h3').innerText(title).title(entry.title),\r\n                        new TagBuilder('div').classes('byline').append(\r\n                            new AnchorBuilder(`/channel/${entry.channelId}/${entry.author}`).innerText(entry.author)\r\n                        ),\r\n                        new ListBuilder(false, 'none').classes('metadata').append(\r\n                            new ListItemBuilder(Formatter.transformPublishDate(entry.publishedDate))\r\n                        )\r\n                    )\r\n                )\r\n        )\r\n    }\r\n\r\n    withActions(actionBuilder) {\r\n        this.actionBuilder = actionBuilder;\r\n        return this;\r\n    }\r\n\r\n    build() {\r\n        if (this.actionBuilder)\r\n            this.node.querySelector('div.details').append(this.actionBuilder.build())\r\n\r\n        return this.node;\r\n    }\r\n\r\n}","import { ListItemBuilder } from \"html-tag-builder\";\r\nimport CRUD from \"../../../../service/crud\";\r\nimport { ElementFactory } from \"../../../../utils/element-factory\";\r\nimport EmptyBuilder from \"../../empty\";\r\nimport ActionsBuilder from \"../../actions/actions\";\r\nimport ActionsService from \"../../../../service/actions-service\";\r\nimport AbstractEntryBuilder from \"./entry\";\r\n\r\nexport default class TodayEntryBuilder extends AbstractEntryBuilder {\r\n\r\n    constructor(entry) {\r\n        super(entry);\r\n\r\n        this.withActions(new ActionsBuilder(entry)\r\n            .withTheatreModeAction()\r\n            .withBookmarkAction()\r\n            .withDropdownItems(\r\n                new ListItemBuilder('Mark as Watched').classes('menu-item')\r\n                    .on('click', ({ target }) => {\r\n                        target.classList.toggle('loading');\r\n                        CRUD.post(`/video/${entry.videoId}/watched`, false, entry, 201)\r\n                            .then(() => {\r\n                                document.querySelector(`[data-videoId=\"${entry.videoId}\"]`).parentElement.remove();\r\n                            })\r\n                            .catch(err => {\r\n                                console.error(err);\r\n                                target.classList.remove('loading');\r\n                            })\r\n                    }),\r\n                new ListItemBuilder('Hide').classes('menu-item')\r\n                    .on('click', () => {\r\n                        if (document.querySelectorAll('.entry').length === 0)\r\n                            ElementFactory.main.videos.target.appendChild(\r\n                                new EmptyBuilder('End of videos', 'loadMore').build()\r\n                            )\r\n\r\n                        document.querySelector(`[data-videoId=\"${entry.videoId}\"]`).parentElement.remove();\r\n                    }),\r\n                new ListItemBuilder('').classes('divider'),\r\n                new ListItemBuilder('Add To Collection').classes('menu-item')\r\n                    .on('click', () => ActionsService.handleAddToCollectionAction(this.formData))\r\n            )\r\n        )\r\n    }\r\n}","import EmptyBuilder from \"../model/tag-builders/empty\";\r\nimport LoadMoreBtnBuilder from \"../model/tag-builders/loadmore\";\r\nimport CRUD from \"../service/crud\";\r\nimport TodayEntryBuilder from \"../model/tag-builders/components/entries/today.js\";\r\n\r\nexport default class UIService {\r\n\r\n    static clearAndDisplayLoading(target) {\r\n        target.innerHTML = '';\r\n        target.append(\r\n            new EmptyBuilder(`<button class=\"btn btn-link btn-lg loading\" disabled></button>`).build()\r\n        )\r\n    }\r\n\r\n    static clearAndDisplayNoneFound(target, body) {\r\n        target.innerHTML = '';\r\n        target.append(new EmptyBuilder(body || `No videos found`).build());\r\n    }\r\n\r\n    static loadPageableEntriesForTarget(entries, target, entryBuilderClass, page = 0) {\r\n        UIService.clearAndDisplayLoading(target);\r\n\r\n        const loadEntries = (entries, page = 0) => {\r\n            entries = entries.slice(page, page + 15);\r\n\r\n            if (entries.length === 0 && page === 0) {\r\n                UIService.clearAndDisplayNoneFound(target);\r\n                return;\r\n            }\r\n            else if (entries.length === 0) {\r\n                const loadMoreBtn = document.getElementById('loadMoreBtn');\r\n                if (loadMoreBtn) target.removeChild(loadMoreBtn);\r\n            }\r\n            else {\r\n                if (page === 0) { target.innerHTML = ''; }\r\n                entries.forEach(entry => {\r\n                    target.append(Reflect.construct(entryBuilderClass, [entry]).build())\r\n                })\r\n                if (entries.slice(page + 15).length > 0) {\r\n                    target.append(\r\n                        new LoadMoreBtnBuilder(target, () => {\r\n                            loadEntries(entries, page + 1);\r\n                        })\r\n                    )\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        loadEntries(entries, page);\r\n    }\r\n\r\n    static loadUnwatchedForToday(target, cursor = [0, 0], isFavoritesOnly = false) {\r\n        const section = target;\r\n        UIService.clearAndDisplayLoading(section);\r\n\r\n        const fetchUnwatchedEntriesForTodayRange = async (cursor) => {\r\n            const settings = await CRUD.get(\"/settings\");\r\n            CRUD.getPage(`/subscription/today/${isFavoritesOnly}`, cursor, 15, { dayRange: settings.newVideoDateRange })\r\n                .then(response => {\r\n                    const loadMore = document.getElementById('loadMore');\r\n                    if (loadMore)\r\n                        section.remove(loadMore);\r\n\r\n                    if (response.results.length === 0 && cursor[0] === 0)\r\n                        UIService.clearAndDisplayNoneFound(section);\r\n                    else {\r\n                        document.querySelectorAll('div.empty').forEach(e => e.parentElement.removeChild(e));\r\n                        const results = response.results.sort((a, b) => new Date(b.publishedDate) - new Date(a.publishedDate));\r\n                        section.append(\r\n                            ...results.map(e => new TodayEntryBuilder(e).build())\r\n                        )\r\n                    }\r\n\r\n                    if (!response.isComplete) {\r\n                        section.append(\r\n                            new LoadMoreBtnBuilder(section, () => {\r\n                                fetchUnwatchedEntriesForTodayRange(response.cursor);\r\n                            }).build()\r\n                        )\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    console.error('Frontend error fetching today', err);\r\n                    document.querySelector('div.empty').remove();\r\n                    if (cursor[0] === 0)\r\n                        UIService.clearAndDisplayNoneFound(section, 'Error fetching entries');\r\n                })\r\n        }\r\n\r\n        fetchUnwatchedEntriesForTodayRange(cursor);\r\n    }\r\n\r\n}","import { ListItemBuilder } from \"html-tag-builder\";\r\nimport ActionsService from \"../../../../service/actions-service\";\r\nimport ActionsBuilder from \"../../actions/actions\";\r\nimport AbstractEntryBuilder from \"./entry\";\r\n\r\nexport default class ChannelEntryBuilder extends AbstractEntryBuilder {\r\n\r\n    constructor(entry) {\r\n        super(entry);\r\n\r\n        this.withActions(new ActionsBuilder(entry)\r\n            .withTheatreModeAction()\r\n            .withBookmarkAction()\r\n            .withDropdownItems(\r\n                new ListItemBuilder('Add To Collection').classes('menu-item')\r\n                    .on('click', () => ActionsService.handleAddToCollectionAction(this.formData))\r\n            )\r\n        )\r\n    }\r\n\r\n}","import \"./global.js\"\r\nimport UIService from \"./service/ui-service.js\";\r\nimport CRUD from \"./service/crud.js\";\r\nimport ChannelEntryBuilder from \"./model/tag-builders/components/entries/channel.js\";\r\n\r\nconst main = document.querySelector('section');\r\n\r\nUIService.clearAndDisplayLoading(main);\r\nCRUD.getPage(`/channel/${main.id}`, 0)\r\n    .then(feed => {\r\n        main.innerHTML = '';\r\n        main.append(\r\n            ...feed.entries.sort((a, b) => new Date(b.publishedDate).getTime() - new Date(a.publishedDate).getTime()).map(m => new ChannelEntryBuilder(m).build())\r\n        );\r\n    })\r\n    .catch(error => {\r\n        console.error(error);\r\n        UIService.clearAndDisplayNoneFound(main, `'${window.location.pathname}' Not Found`)\r\n    })\r\n\r\n\r\ndocument.querySelector('h1 button').addEventListener('click', ({ target }) => {\r\n    target.classList.add('loading');\r\n\r\n    if (confirm(`Are you sure you want to unsubscribe?`)) {\r\n        CRUD.delete(`/subscription/${main.id}`, { method: 'DELETE' })\r\n            .then(() => {\r\n                window.location = '/';\r\n            })\r\n            .catch((err) => {\r\n                console.error(err);\r\n                target.classList.remove('loading');\r\n            });\r\n    }\r\n    else target.classList.remove('loading');\r\n})"],"names":["SELF_CLOSING","Objects","static","obj","prop","this","isDefined","Error","defaultValue","requireNonNull","constructor","String","toString","trim","length","Attributes","Map","clone","forEach","v","k","set","AbstractTagBuilder","tagName","id","xmlns","_node","_hNode","_isCached","toLowerCase","TagBuilderOptions","mode","isEmptyOrWhitespace","elem","document","createElement","contentEditable","draggable","node","createElementNS","querySelector","hNode","headlessBuilder","attr","key","value","isHeadlessMode","setAttribute","slot","tabIndex","index","append","child","filter","e","map","buildHTML","build","prepend","insertAdjacent","sibling","placement","insertAdjacentElement","innerHTML","html","classes","aClass","Array","isArray","nodeType","classList","contains","add","margin","cssShorthand","style","join","origin","top","right","bottom","left","padding","position","Object","entries","window","CSS","supports","console","debug","on","event","listener","options","addEventListener","outerHTML","isSVGElement","SVGElement","isCached","val","toUpperCase","tagId","HNode","_attrs","_children","_siblings","_styles","_tagName","attrs","Set","children","siblings","styles","get","newnode","createNode","hnode","from","push","unshift","splice","property","_a","attributes","size","includes","TagBuilder","super","accessKey","inputMode","ofNullable","dir","hidden","spellcheck","title","innerText","text","autocapitalize","bounds","width","height","caret","color","textcase","transform","visibility","screenReaderOnly","border","clip","overflow","builder","cloneNode","template","nodes","content","childNodes","result","entry","name","_mode","scriptAsync","_defaultScriptAsync","useOptionContentForEmptyOptionValue","_useOptionContentForEmptyOptionValue","defaultInputType","_defaultInputType","FigureBuilder","caption","captionPlacement","AnchorBuilder","href","target","hreflang","lang","mimeType","type","ping","urls","rel","AreaBuilder","coords","shape","url","alt","InputBuilder","checked","required","autocomplete","autofocus","datalist","disabled","onInvalid","setCustomValidity","placeholder","readOnly","NumberInputBuilder","min","max","step","interval","DateInputBuilder","TextInputBuilder","maxLength","minLength","pattern","RegExp","source","DLBuilder","wrapDtDdGroupsInDiv","groupsDivClasses","div","addTerm","term","dd","dt","dds","OptionBuilder","replace","ListItemBuilder","AudioBuilder","src","controls","addFallbackSrc","SourceBuilder","loop","muted","noControls","onNotSupported","fallbackHTML","preload","track","kind","isDefault","srclang","label","_b","PictureBuilder","imgBuilder","img","media","sizes","srcset","VideoBuilder","poster","_c","_d","getAttribute","TableBuilder","header","body","colGroupBuilder","createTHead","createTBody","createCaption","addHeader","headers","m","tHead","firstChild","addRow","rows","colgroup","collapse","setHeaders","deleteTHead","setRows","row","buildSections","TemplateBuilder","styleBuilder","addStylesToRoot","cssText","addSlots","SVGBuilder","viewBox","SVGElementBuilder","element","fill","stroke","preserveAspectRatio","x","y","module","exports","BlockquoteBuilder","cite","FieldsetBuilder","legend","DownloadLinkBuilder","filename","download","DownloadAreaBuilder","DataBuilder","SpanBuilder","sort","bold","bolder","lighter","italic","underline","strikethrough","CheckboxInputBuilder","isIndeterminate","indeterminate","RadioInputBuilder","RangeInputBuilder","DateTimeLocalInputBuilder","MonthInputBuilder","TimeInputBuilder","WeekInputBuilder","FileInputBuilder","accept","multiple","capture","ImageInputBuilder","formAction","formEnctype","enctype","formMethod","method","EmailInputBuilder","PasswordInputBuilder","SearchInputBuilder","TelInputBuilder","UrlInputBuilder","TextAreaBuilder","cols","wrap","DataListBuilder","addOption","addOptions","option","DetailsBuilder","summary","open","SelectBuilder","instructionMessage","addOptionGroup","ListBuilder","isOrdered","addItem","item","addItems","items","addSublist","listBuilder","EmbedBuilder","IframeBuilder","allow","referrerPolicy","sandbox","srcdoc","ImageBuilder","decoding","MeterBuilder","minmax","low","high","lowhigh","optimum","ProgressBuilder","FormBuilder","actionUrl","action","acceptCharset","noValidate","ScriptBuilder","async","crossOrigin","defer","integrity","noModule","nonce","ColGroupBuilder","addCol","span","col","SlotBuilder","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","AbstractEnum","extend","enumObject","freeze","assign","CRUD","path","formData","query","URLSearchParams","fetchOnce","expectingStatus","cursor","limit","isJsonResponse","contentType","jsonBody","opts","JSON","stringify","CRUDError","response","status","statusText","Promise","resolve","fetch","then","ok","json","PlayerStatus","UNSTARTED","ENDED","PLAYING","PAUSED","BUFFERING","CUED","YouTubeIframeAPIService","script","youtubeIframeAPIEnabled","appendChild","onYouTubeIframeAPIReady","elementId","getElementById","YT","Player","events","onPlayerReady","onPlayerStateChange","data","playerStatus","closest","parentElement","youtubeIframeAPIAutoplay","post","videoId","catch","error","finally","nextSibling","fullscreenElement","exitFullscreen","remove","click","startsWith","first","play","onkeydown","toggle","onclick","init","log","EmptyBuilder","background","LoadMoreBtnBuilder","parent","onClick","removeChild","scrollTo","scrollHeight","ElementFactory","main","menu","ul","videos","loadMoreBtn","aside","search","searchDataList","toolbar","dropdown","dropdownBtn","todayFilterGroup","ActionsBuilder","fd","withTheatreModeAction","closestSelector","display","withBookmarkAction","isBookmarked","delete","err","withDropdownItems","itemBuilders","SmModal","HTMLElement","querySelectorAll","c","close","addFormInput","inputBuilder","input","textContent","onchange","setBody","setFooter","SelectCollectionModal","collections","footer","selectBuilder","choices","collection","selected","onsubmit","preventDefault","select","optvalue","selectedIndex","button","customElements","define","ActionsService","sortDir","rf","Intl","RelativeTimeFormat","numeric","dtf","DateTimeFormat","day","month","year","Formatter","views","segments","NumberFormat","maximumSignificantDigits","format","split","prefix","shift","suffix","date","Date","days","hours","Math","round","charAt","substring","YTImageVideo","thumbnail","stop","replaceWith","settings","setTimeout","player","newInstance","autoTheatreMode","bind","playVideo","pause","pauseVideo","mute","unmute","unMute","stopVideo","hideVideoInfo","channelId","publishedDate","author","description","AbstractEntryBuilder","transformPublishDate","withActions","actionBuilder","TodayEntryBuilder","handleAddToCollectionAction","UIService","entryBuilderClass","page","clearAndDisplayLoading","loadEntries","slice","Reflect","construct","clearAndDisplayNoneFound","isFavoritesOnly","section","fetchUnwatchedEntriesForTodayRange","getPage","dayRange","newVideoDateRange","loadMore","results","a","b","isComplete","ChannelEntryBuilder","feed","getTime","location","pathname","confirm"],"sourceRoot":""}